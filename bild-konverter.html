<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" type="image/png" href="/ws.png" sizes="32x32">
  <link rel="apple-touch-icon" href="/ws.png" sizes="180x180">
  <meta name="theme-color" content="#000000">
  <title>Bild-Konverter f√ºr PNG, JPG und WebP ‚Äì Warenschmiede</title>
  <meta name="description" content="Bilder im Browser zwischen PNG, JPG und WebP umwandeln ‚Äì ohne Upload, ohne Tracking, direkt lokal.">
  <meta name="robots" content="index,follow">
  <meta name="color-scheme" content="light dark">
  <link rel="canonical" href="https://www.warenschmiede.com/bild-konverter.html">
  <meta property="og:title" content="Bild-Konverter f√ºr PNG, JPG und WebP ‚Äì Warenschmiede">
  <meta property="og:description" content="Bilder im Browser zwischen PNG, JPG und WebP umwandeln ‚Äì ohne Upload, ohne Tracking, direkt lokal.">
  <meta name="twitter:title" content="Bild-Konverter f√ºr PNG, JPG und WebP ‚Äì Warenschmiede">
  <meta name="twitter:description" content="Bilder im Browser zwischen PNG, JPG und WebP umwandeln ‚Äì ohne Upload, ohne Tracking, direkt lokal.">
  <meta name="twitter:url" content="https://www.warenschmiede.com/bild-konverter.html">
  <meta name="twitter:image" content="/assets/og/og-default.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.warenschmiede.com/bild-konverter.html">
  <meta property="og:site_name" content="Warenschmiede">
  <meta property="og:locale" content="de_DE">
  <meta name="twitter:card" content="summary_large_image">
  <script>
    (function () {
      var storageKey = 'theme-preference';
      var preference = 'system';
      try {
        var stored = localStorage.getItem(storageKey);
        if (stored === 'light' || stored === 'dark' || stored === 'system') {
          preference = stored;
        }
      } catch (error) { }
      var mediaQuery = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;
      var resolved = preference === 'dark'
        ? 'dark'
        : preference === 'light'
          ? 'light'
          : (mediaQuery && mediaQuery.matches ? 'dark' : 'light');
      var root = document.documentElement;
      root.dataset.theme = resolved;
      root.dataset.themePreference = preference;
    })();
  </script>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="/assets/print.css?v=1.0.7" media="print">
  <style>
    .converter-hero {
      text-align: center;
      max-width: 840px;
      margin: 0 auto;
    }
    .converter-grid {
      display: grid;
      grid-template-columns: 1.05fr 0.95fr;
      gap: 24px;
      align-items: start;
    }
    .converter-panel {
      padding: 1.25rem;
    }
    .converter-panel h2 {
      margin-top: 0;
    }
    .converter-panel .form-group {
      margin-bottom: 1rem;
    }
    .converter-panel label {
      display: block;
      font-weight: 600;
      margin-bottom: 0.35rem;
    }
    .converter-panel input[type="file"],
    .converter-panel select,
    .converter-panel input[type="range"] {
      width: 100%;
    }
    .converter-panel .helper-text {
      font-size: 0.95rem;
      color: var(--text-muted);
    }
    .converter-preview {
      display: grid;
      gap: 0.75rem;
    }
    .preview-box {
      border-radius: var(--radius-card);
      border: 1px solid var(--border-color, #d9dde7);
      padding: 0.75rem;
      background: var(--card, #f5f7fb);
    }
    .preview-box img {
      width: 100%;
      max-height: 320px;
      object-fit: contain;
      display: block;
      border-radius: 12px;
      background: var(--surface, #fff);
    }
    .preview-meta {
      display: grid;
      gap: 0.35rem;
      font-size: 0.95rem;
    }
    .converter-message {
      padding: 0.75rem 0.9rem;
      border-radius: 12px;
      border: 1px solid var(--border-color, #d9dde7);
      background: var(--surface, #fff);
      color: var(--text);
    }
    .converter-message.is-error {
      border-color: #e76f51;
      background: #fff2ef;
      color: #7a1b00;
    }
    .converter-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      align-items: center;
    }
    .converter-actions .btn {
      margin: 0;
    }
    .quality-value {
      font-weight: 600;
      margin-left: 0.35rem;
    }
    .converter-note {
      font-size: 0.95rem;
      color: var(--text-muted);
    }
    @media (max-width: 960px) {
      .converter-grid {
        grid-template-columns: 1fr;
      }
      .converter-hero {
        text-align: left;
      }
    }
  </style>
</head>
<body>
  <header class="site-header" data-header>
    <div class="container header-grid">
      <div class="brand">
        <a class="brand-link" href="/index.html#start">
          <img src="/assets/images/warenschmiede_logo.png" alt="Warenschmiede Logo" class="brand-logo" width="453" height="276" fetchpriority="high">
          <div class="brand-text">
            <span class="brand-name">Warenschmiede</span>
            <span class="brand-tagline">3D-Druck ¬∑ Made in Germany</span>
          </div>
        </a>
      </div>

      <nav class="main-nav" aria-label="Hauptnavigation">
        <div class="nav-menu" id="primary-navigation" data-nav-menu>
          <ul class="nav-list" id="navList">
            <li class="nav-item nav-fixed">
              <a class="nav-link" href="/index.html#start" data-nav-link data-section="start" data-path="/ , /index.html , /warenschmiede/ , /warenschmiede/index.html"><span class="nav-ico" aria-hidden="true">üè†</span>Start</a>
            </li>

            <!-- Neuer Dropdown: Rechner & Tools -->
            <li class="nav-item nav-fixed nav-more nav-dropdown nav-highlight nav-tools" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false">
                <span class="nav-ico" aria-hidden="true">üßÆ</span>Rechner &amp; Tools ‚ñæ
              </button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/druck-kosten.html" data-nav-link data-path="/druck-kosten , /druck-kosten.html">
                    <span class="nav-ico" aria-hidden="true">üßÆ</span>3D-Druck-Kostenrechner
                  </a>
                </li>
                <li>
                  <a
                    class="nav-link"
                    href="/tools/buero/doku-light/"
                    data-nav-link
                    data-path="/tools/buero/doku-light , /tools/buero/doku-light/ , /tools/buero/doku-light/index.html"
                  >
                    <span class="nav-ico" aria-hidden="true">üìÑ</span>Dokumenten-Tool Light
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/bild-konverter.html" data-nav-link data-path="/bild-konverter , /bild-konverter.html">
                    <span class="nav-ico" aria-hidden="true">üñºÔ∏è</span>Bild-Konverter
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/werkstatt-rechner.html" data-nav-link data-path="/werkstatt-rechner , /werkstatt-rechner.html">
                    <span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>Werkstatt-Rechner
                  </a>
                </li>
              </ul>
            </li>

            <li class="nav-item nav-fixed nav-more nav-dropdown nav-services" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">üß∞</span>Leistungen ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/leistungen/3d-druck.html" data-nav-link data-path="/leistungen/3d-druck , /leistungen/3d-druck.html"><span class="nav-ico" aria-hidden="true">üì¶</span>3D-Druckauftrag</a>
                </li>
                <li>
                  <a class="nav-link" href="/leistungen/cad-prototyping.html" data-nav-link data-path="/leistungen/cad-prototyping , /leistungen/cad-prototyping.html"><span class="nav-ico" aria-hidden="true">üìê</span>CAD &amp; Prototyping</a>
                </li>
                <li>
                  <a class="nav-link" href="/leistungen/pc-hilfe.html" data-nav-link data-path="/leistungen/pc-hilfe , /leistungen/pc-hilfe.html"><span class="nav-ico" aria-hidden="true">üíª</span>PC-Hilfe</a>
                </li>
              </ul>
            </li>
            <li class="nav-item nav-fixed nav-more nav-dropdown" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">ü§ñ</span>√úber KI ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/ki/index.html" data-nav-link data-path="/ki , /ki/ , /ki/index.html"><span class="nav-ico" aria-hidden="true">üìñ</span>Einf√ºhrung &amp; Grundlagen</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/prompts.html" data-nav-link data-path="/ki/prompts , /ki/prompts.html"><span class="nav-ico" aria-hidden="true">‚úçÔ∏è</span>Prompts f√ºr den Alltag</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/tools.html" data-nav-link data-path="/ki/tools , /ki/tools.html"><span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>KI-Werkzeuge</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/so-arbeitest-du-mit-ki.html" data-nav-link data-path="/ki/so-arbeitest-du-mit-ki , /ki/so-arbeitest-du-mit-ki.html"><span class="nav-ico" aria-hidden="true">üß≠</span>So arbeitest du mit KI</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/programme-die-du-brauchst.html" data-nav-link data-path="/ki/programme-die-du-brauchst , /ki/programme-die-du-brauchst.html"><span class="nav-ico" aria-hidden="true">üíæ</span>Programme, die du brauchst</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/chancen-und-risiken.html" data-nav-link data-path="/ki/chancen-und-risiken , /ki/chancen-und-risiken.html"><span class="nav-ico" aria-hidden="true">‚öñÔ∏è</span>KI: Chancen &amp; Risiken</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/faq.html" data-nav-link data-path="/ki/faq , /ki/faq.html"><span class="nav-ico" aria-hidden="true">üîí</span>KI-FAQ &amp; Sicherheit</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/lexikon.html" data-nav-link data-path="/ki/lexikon , /ki/lexikon.html"><span class="nav-ico" aria-hidden="true">üî§</span>KI-Lexikon</a>
                </li>
              </ul>
            </li>
            <li class="nav-item nav-fixed nav-more nav-dropdown nav-contact" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">‚úâÔ∏è</span>Kontakt ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/kontakt.html" data-nav-link data-path="/kontakt , /kontakt.html , /warenschmiede/kontakt , /warenschmiede/kontakt.html"><span class="nav-ico" aria-hidden="true">üìß</span>Kontakt aufnehmen</a>
                </li>
                <li>
                  <a class="nav-link" href="/ablauf-anfrage.html" data-nav-link data-path="/ablauf-anfrage , /ablauf-anfrage.html"><span class="nav-ico" aria-hidden="true">üìù</span>Ablauf &amp; Anfrage</a>
                </li>
                <li>
                  <a class="nav-link" href="/impressum.html" data-nav-link data-path="/impressum , /impressum.html , /warenschmiede/impressum , /warenschmiede/impressum.html"><span class="nav-ico" aria-hidden="true">‚öñÔ∏è</span>Impressum</a>
                </li>
                <li>
                  <a class="nav-link" href="/ueber-mich.html" data-nav-link data-path="/ueber-mich , /ueber-mich.html , /warenschmiede/ueber-mich.html , /about , /about.html , /warenschmiede/about.html"><span class="nav-ico" aria-hidden="true">üë§</span>√úber mich</a>
                </li>
              </ul>
            </li>

            <li class="nav-item nav-fixed nav-more nav-dropdown nav-3d" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">üì¶</span>3D-Druck ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/technologien.html" data-nav-link data-path="/technologien , /technologien.html"><span class="nav-ico" aria-hidden="true">üß™</span>FDM / SLA / SLS ‚Äì Technologien</a>
                </li>
                <li>
                  <a class="nav-link" href="/fehlerdatenbank.html" data-nav-link data-path="/fehlerdatenbank , /fehlerdatenbank.html"><span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>Fehler &amp; Troubleshooting</a>
                </li>
                <li>
                  <a class="nav-link" href="/ideenquellen.html" data-nav-link data-path="/ideenquellen , /ideenquellen.html , /ideen , /ideen/ , /ideen/index.html"><span class="nav-ico" aria-hidden="true">üí°</span>Ideenquellen &amp; Portale</a>
                </li>
                <li>
                  <a class="nav-link" href="/material.html" data-nav-link data-path="/material.html"><span class="nav-ico" aria-hidden="true">üìö</span>Materialwissen &amp; Vergleiche</a>
                </li>
                <li>
                  <a class="nav-link" href="/druck-tipps.html" data-nav-link data-path="/druck-tipps , /druck-tipps.html"><span class="nav-ico" aria-hidden="true">üß≠</span>Tipps &amp; Abl√§ufe / Kosten</a>
                </li>
                <li>
                  <a class="nav-link" href="/druck-kosten.html" data-nav-link data-path="/druck-kosten , /druck-kosten.html"><span class="nav-ico" aria-hidden="true">üßÆ</span>Kosten &amp; Kalkulation</a>
                </li>
                <li>
                  <a class="nav-link" href="/slicer-einstellungen.html" data-nav-link data-path="/slicer-einstellungen , /slicer-einstellungen.html"><span class="nav-ico" aria-hidden="true">‚öôÔ∏è</span>Slicer &amp; Einstellungen</a>
                </li>
                <li>
                  <a class="nav-link" href="/3ddruck-faq.html" data-nav-link data-path="/3ddruck-faq , /3ddruck-faq.html"><span class="nav-ico" aria-hidden="true">‚ùì</span>Neu beim 3D-Druck?</a>
                </li>
                <li>
                  <a class="nav-link" href="/wartung-reinigung.html" data-nav-link data-path="/wartung-reinigung , /wartung-reinigung.html"><span class="nav-ico" aria-hidden="true">üßº</span>Wartung &amp; Reinigung</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>

      <div class="header-actions">
        <button class="theme-toggle" type="button" id="themeToggleBtn" aria-label="Design umschalten: Hell/Dunkel" title="Design umschalten: Hell/Dunkel" aria-pressed="false">
          <span id="themeIcon" aria-hidden="true">üñ•Ô∏è</span>
          <span class="theme-toggle__text" id="themeToggleText" aria-live="polite">Helles Design</span>
        </button>

        <button class="nav-toggle" type="button" aria-controls="primary-navigation" aria-expanded="false" data-nav-toggle>
          <span class="sr-only">Men√º √∂ffnen</span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
        </button>
      </div>
    </div>
  </header>

  <main id="inhalt" class="site-main" tabindex="-1">
    <section class="section section-hero">
      <div class="container converter-hero">
        <p class="hero-eyebrow">Neu im Browser</p>
        <h1>Bild-Konverter (PNG, JPG, WebP)</h1>
        <p class="hero-lede">Wandelt Bilder direkt im Browser um ‚Äì ohne Upload, ohne Werbung, ohne Tracking.</p>
        <p class="hero-meta">Unterst√ºtzt JPG, PNG und WebP. Die Umwandlung l√§uft komplett lokal auf deinem Ger√§t.</p>
      </div>
    </section>

    <section class="section ws-section" aria-label="Hinweis zur lokalen Verarbeitung">
      <div class="container">
        <div class="callout note">
          <h3>Alles passiert lokal in deinem Browser</h3>
          <p>Deine Bilder werden nicht hochgeladen. Die Umwandlung erfolgt mit HTML5 Canvas direkt auf deinem Ger√§t. Es gibt keine Server-Speicherung, kein Tracking und keine Werbung.</p>
          <p class="converter-note">Hinweis: Sehr gro√üe Dateien k√∂nnen je nach Ger√§t ein paar Sekunden ben√∂tigen.</p>
        </div>
      </div>
    </section>

    <section class="section ws-section" aria-labelledby="converter-heading">
      <div class="container converter-grid">
        <div class="ws-card converter-panel">
          <h2 id="converter-heading" class="ws-section-title">1Ô∏è‚É£ Bild ausw√§hlen</h2>
          <div class="form-group">
            <label for="imageInput">Bilddatei (JPG, PNG oder WebP)</label>
            <input type="file" id="imageInput" accept="image/jpeg,image/png,image/webp">
            <p class="helper-text">Unterst√ºtzte Formate: JPG/JPEG, PNG, WebP</p>
          </div>

          <h2 class="ws-section-title">2Ô∏è‚É£ Zielformat festlegen</h2>
          <div class="form-group">
            <label for="targetFormat">Zielformat</label>
            <select id="targetFormat">
              <option value="jpg">Nach JPG umwandeln</option>
              <option value="png">Nach PNG umwandeln</option>
              <option value="webp">Nach WebP umwandeln</option>
            </select>
            <p class="helper-text">Auch wenn das Eingabeformat gleich ist, kannst du die Qualit√§t anpassen oder WebP erzeugen.</p>
          </div>

          <div class="form-group" id="qualityRow">
            <label for="qualityInput">Qualit√§t f√ºr JPG/WebP <span class="quality-value" id="qualityValue">80%</span></label>
            <input type="range" id="qualityInput" min="30" max="100" step="5" value="80">
            <p class="helper-text">60‚Äì80&nbsp;% ist oft ein guter Kompromiss zwischen Gr√∂√üe und Qualit√§t. PNG wird immer verlustfrei gespeichert.</p>
          </div>

          <div class="converter-actions">
            <button type="button" class="btn btn-primary" id="convertBtn">Bild umwandeln &amp; herunterladen</button>
            <p class="converter-note">Wenn kein Bild geladen ist, erh√§ltst du einen Hinweis.</p>
          </div>
          <div id="converterMessage" class="converter-message" aria-live="polite" hidden></div>
        </div>

        <div class="ws-card converter-panel converter-preview">
          <h2 class="ws-section-title">3Ô∏è‚É£ Vorschau &amp; Details</h2>
          <div class="preview-box" id="previewBox" hidden>
            <img id="imagePreview" alt="Vorschau des hochgeladenen Bildes">
            <div class="preview-meta" id="previewMeta"></div>
          </div>
          <p class="converter-note">Hinweis f√ºr √§ltere Browser: Falls dein Browser WebP nicht unterst√ºtzt, w√§hle JPG oder PNG. In diesem Fall erscheint eine Fehlermeldung.</p>
        </div>
      </div>
    </section>

    <section class="section ws-section" aria-label="Datenschutz zum Bild-Konverter">
      <div class="container">
        <h2 class="ws-section-title">Datenschutz-Hinweis</h2>
        <p>Der Bild-Konverter verarbeitet Dateien ausschlie√ülich lokal in deinem Browser. Es findet kein Upload auf Server der Warenschmiede oder Dritter statt, es werden keine Kopien gespeichert oder ausgewertet. Du kannst die Seite einfach schlie√üen und alle Daten sind verschwunden.</p>
        <p>Damit ist die Nutzung im Sinne meiner <a href="/datenschutz.html">Datenschutzerkl√§rung</a> unkritisch: keine Cookies, kein Tracking, keine Analyse.</p>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer__inner">
        <div class="footer__brand">¬© 2025 Warenschmiede ¬∑ Alle Rechte vorbehalten.</div>
        <nav class="footer__links" aria-label="Rechtliches &amp; Kontakt">
          <a href="/impressum.html">Impressum</a>
          <a href="/datenschutz.html">Datenschutzerkl√§rung</a>
          <a href="/kontakt.html">Kontakt</a>
        </nav>
        <div class="footer__notes">
          <p><strong>Haftung / Nutzung:</strong> Alle Angaben ohne Gew√§hr ‚Äì Nutzung auf eigene Verantwortung.</p>
          <p><strong>Cookies:</strong> Diese Website verwendet keine Cookies oder Tracking.</p>
        </div>
      </div>
    </div>
  </footer>
  <script>
    (function () {
      var fileInput = document.getElementById('imageInput');
      var targetFormat = document.getElementById('targetFormat');
      var qualityRow = document.getElementById('qualityRow');
      var qualityInput = document.getElementById('qualityInput');
      var qualityValue = document.getElementById('qualityValue');
      var convertBtn = document.getElementById('convertBtn');
      var previewBox = document.getElementById('previewBox');
      var previewImg = document.getElementById('imagePreview');
      var previewMeta = document.getElementById('previewMeta');
      var messageBox = document.getElementById('converterMessage');
      var loadedImage = null;
      var supportedTypes = ['image/jpeg', 'image/png', 'image/webp'];
      var webpSupport = (function () {
        var canvas = document.createElement('canvas');
        if (!canvas.toDataURL) return false;
        try {
          return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0;
        } catch (error) {
          return false;
        }
      })();

      function updateQualityLabel() {
        qualityValue.textContent = qualityInput.value + '%';
      }

      function showMessage(text, isError) {
        messageBox.textContent = text;
        messageBox.hidden = false;
        messageBox.classList.toggle('is-error', Boolean(isError));
      }

      function resetPreview() {
        previewBox.hidden = true;
        previewImg.removeAttribute('src');
        previewMeta.innerHTML = '';
      }

      function formatFileName(name) {
        if (!name) return 'bild';
        var parts = name.split('.');
        if (parts.length === 1) return name;
        parts.pop();
        return parts.join('.') || 'bild';
      }

      fileInput.addEventListener('change', function (event) {
        var file = event.target.files && event.target.files[0];
        if (!file) {
          loadedImage = null;
          resetPreview();
          showMessage('Bitte zuerst ein Bild ausw√§hlen.', true);
          return;
        }

        if (supportedTypes.indexOf(file.type) === -1) {
          loadedImage = null;
          resetPreview();
          showMessage('Dieses Format wird aktuell nicht unterst√ºtzt. Bitte w√§hle JPG, PNG oder WebP.', true);
          fileInput.value = '';
          return;
        }

        var reader = new FileReader();
        reader.onload = function (loadEvent) {
          var dataUrl = loadEvent.target.result;
          var img = new Image();
          img.onload = function () {
            loadedImage = {
              file: file,
              dataUrl: dataUrl,
              width: img.naturalWidth,
              height: img.naturalHeight
            };
            previewImg.src = dataUrl;
            previewBox.hidden = false;
            previewMeta.innerHTML = '<strong>Datei:</strong> ' + file.name + '<br>' +
              '<strong>Format:</strong> ' + file.type.replace('image/', '').toUpperCase() + '<br>' +
              '<strong>Abmessungen:</strong> ' + img.naturalWidth + ' √ó ' + img.naturalHeight + ' Pixel';
            showMessage('Bild geladen. Du kannst jetzt das Zielformat w√§hlen und umwandeln.', false);
          };
          img.onerror = function () {
            loadedImage = null;
            resetPreview();
            showMessage('Das Bild konnte nicht geladen werden. Bitte probiere eine andere Datei.', true);
          };
          img.src = dataUrl;
        };
        reader.readAsDataURL(file);
      });

      targetFormat.addEventListener('change', function (event) {
        var value = event.target.value;
        var needsQuality = value === 'jpg' || value === 'webp';
        qualityRow.style.display = needsQuality ? 'block' : 'none';
      });

      qualityInput.addEventListener('input', updateQualityLabel);
      updateQualityLabel();

      convertBtn.addEventListener('click', function () {
        if (!loadedImage) {
          showMessage('Bitte zuerst ein Bild ausw√§hlen.', true);
          return;
        }

        var target = targetFormat.value;
        var mimeType = target === 'png' ? 'image/png' : target === 'webp' ? 'image/webp' : 'image/jpeg';
        if (mimeType === 'image/webp' && !webpSupport) {
          showMessage('Dein Browser unterst√ºtzt WebP anscheinend nicht. Bitte w√§hle JPG oder PNG.', true);
          return;
        }

        var canvas = document.createElement('canvas');
        canvas.width = loadedImage.width;
        canvas.height = loadedImage.height;
        var ctx = canvas.getContext('2d');
        var img = new Image();
        img.onload = function () {
          ctx.drawImage(img, 0, 0);
          var quality = mimeType === 'image/png' ? undefined : Number(qualityInput.value) / 100;
          canvas.toBlob(function (blob) {
            if (!blob) {
              showMessage('Das gew√ºnschte Zielformat wird von diesem Browser nicht unterst√ºtzt.', true);
              return;
            }
            var baseName = formatFileName(loadedImage.file && loadedImage.file.name);
            var extension = target === 'jpg' ? 'jpg' : target === 'webp' ? 'webp' : 'png';
            var downloadName = baseName + '_converted.' + extension;
            var url = URL.createObjectURL(blob);
            var link = document.createElement('a');
            link.href = url;
            link.download = downloadName;
            link.click();
            URL.revokeObjectURL(url);
            showMessage('Fertig! Dein Download startet gleich. Dateiname: ' + downloadName, false);
          }, mimeType, quality);
        };
        img.onerror = function () {
          showMessage('Beim Rendern ist etwas schiefgelaufen. Bitte lade das Bild erneut.', true);
        };
        img.src = loadedImage.dataUrl;
      });

      qualityRow.style.display = 'block';
    })();
  </script>
  <script src="assets/js/theme.js" defer></script>
  <script src="assets/js/header.js" defer></script>
  <script src="assets/js/whatsapp.js" defer></script>
</body>
</html>
