<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" type="image/png" href="/ws.png" sizes="32x32">
  <link rel="apple-touch-icon" href="/ws.png" sizes="180x180">
  <meta name="theme-color" content="#ffffff">
  <title>KI-Versteher: Adaptiver Chat-Simulator - Warenschmiede</title>
  <meta name="description" content="Simulierter KI-Chat, der sich an dich anpasst. Erkl√§rungen f√ºr Einsteiger, Berufst√§tige, Sch√ºler und Skeptiker.">
  <link rel="preload" as="image" href="/assets/logo.svg">
  <link rel="stylesheet" href="../styles.css">
  <link rel="stylesheet" href="/assets/print.css?v=1.0.7" media="print">

  <style>
    /* Chat Specific Styles */
    .chat-container {
        max-width: 600px;
        width: 100%;
        margin: 0 auto;
        background: #efeae2;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        overflow: hidden;
        border: 1px solid #ddd;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        display: flex;
        flex-direction: column;
        height: 75vh;
        max-height: 800px;
        min-height: 500px;
        position: relative;
    }

    /* WhatsApp Background Pattern simulation */
    .chat-body {
        flex: 1;
        overflow-y: auto;
        padding: 20px 15px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        background-color: #efeae2;
        background-image: radial-gradient(#d4d0c8 1px, transparent 1px);
        background-size: 20px 20px;
    }

    .chat-header {
        background: #008069;
        color: white;
        padding: 10px 15px;
        display: flex;
        align-items: center;
        gap: 12px;
        position: sticky;
        top: 0;
        z-index: 10;
        box-shadow: 0 1px 2px rgba(0,0,0,0.15);
    }

    .chat-header-avatar {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        background: #fff;
        overflow: hidden;
        flex-shrink: 0;
    }
    .chat-header-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .chat-header-info {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .chat-header-name {
        font-weight: 600;
        font-size: 1.05rem;
        line-height: 1.2;
    }

    .chat-header-status {
        font-size: 0.8rem;
        opacity: 0.85;
        line-height: 1.2;
    }

    .message {
        max-width: 85%;
        padding: 6px 7px 8px 9px;
        border-radius: 7.5px;
        position: relative;
        font-size: 0.95rem;
        line-height: 1.35;
        box-shadow: 0 1px 0.5px rgba(0,0,0,0.13);
        opacity: 0;
        transform: translateY(10px);
        animation: messageAppear 0.3s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
        word-wrap: break-word;
    }

    @keyframes messageAppear {
        to { opacity: 1; transform: translateY(0); }
    }

    .message.marco {
        align-self: flex-start;
        background: #ffffff;
        border-top-left-radius: 0;
    }

    .message.gast {
        align-self: flex-end;
        background: #d9fdd3;
        border-top-right-radius: 0;
    }

    .message-content {
        padding-right: 20px; /* Space for time */
    }

    .message-time {
        font-size: 0.68rem;
        color: rgba(0,0,0,0.45);
        float: right;
        margin-top: 4px;
        margin-left: -10px;
        position: relative;
        top: 2px;
    }

    .message a {
        color: #007bfc;
        text-decoration: none;
    }
    .message a:hover {
        text-decoration: underline;
    }

    .typing-container {
        padding: 0 15px 10px;
        min-height: 40px;
    }

    .typing-indicator {
        background: #ffffff;
        padding: 10px 15px;
        border-radius: 18px;
        border-top-left-radius: 0;
        display: inline-flex;
        align-items: center;
        gap: 4px;
        box-shadow: 0 1px 0.5px rgba(0,0,0,0.13);
        opacity: 0;
        transition: opacity 0.2s;
    }

    .typing-indicator.visible {
        opacity: 1;
    }

    .dot {
        width: 6px;
        height: 6px;
        background: #b0b0b0;
        border-radius: 50%;
        animation: typingBounce 1.4s infinite ease-in-out both;
    }
    .dot:nth-child(1) { animation-delay: -0.32s; }
    .dot:nth-child(2) { animation-delay: -0.16s; }

    @keyframes typingBounce {
        0%, 80%, 100% { transform: scale(0); }
        40% { transform: scale(1); }
    }

    .chat-controls {
        background: #f0f2f5;
        padding: 10px;
        display: flex;
        justify-content: center;
        gap: 10px;
        border-top: 1px solid #ddd;
        flex-wrap: wrap;
    }

    .chat-btn {
        background: #fff;
        border: 1px solid #ccc;
        border-radius: 24px;
        padding: 8px 16px;
        cursor: pointer;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 6px;
        transition: all 0.2s;
        color: var(--text);
    }
    .chat-btn:hover {
        background: #e9edef;
    }
    .chat-btn:active {
        background: #dce1e5;
    }

    /* Option Chips */
    .options-container {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 5px;
        margin-bottom: 10px;
        animation: messageAppear 0.3s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    }
    .option-chip {
        background: #fff;
        border: 1px solid #008069;
        color: #008069;
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.9rem;
        cursor: pointer;
        transition: all 0.2s;
        font-weight: 500;
        box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .option-chip:hover {
        background: #f0fffa;
        transform: translateY(-1px);
        box-shadow: 0 2px 4px rgba(0,0,0,0.15);
    }

    /* Persona Overlay */
    .persona-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.98);
        z-index: 100;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 20px;
        text-align: center;
    }

    .persona-overlay h2 {
        margin-bottom: 1.5rem;
        font-size: 1.5rem;
        color: var(--text);
    }

    .persona-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        width: 100%;
        max-width: 500px;
    }

    .persona-card {
        background: white;
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 20px 10px;
        cursor: pointer;
        transition: all 0.2s;
        box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
    }

    .persona-card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        border-color: #008069;
    }

    .persona-emoji {
        font-size: 2.5rem;
        margin-bottom: 5px;
    }
    .persona-title {
        font-weight: 700;
        font-size: 1rem;
        color: var(--text);
    }
    .persona-desc {
        font-size: 0.8rem;
        color: var(--text-muted);
    }

    /* Online Status Animation */
    @keyframes pulse {
        0% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
        70% { transform: scale(1); box-shadow: 0 0 0 6px rgba(34, 197, 94, 0); }
        100% { transform: scale(0.95); box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
    }

    .status-dot {
        display: inline-block;
        width: 10px;
        height: 10px;
        background-color: #22c55e;
        border-radius: 50%;
        margin-left: 8px;
        animation: pulse 2s infinite;
    }

    /* Ensure the chat looks good in dark mode context */
    html[data-theme="dark"] .chat-container,
    html.dark .chat-container {
        border-color: #334155;
        background: #1e293b;
    }
    html[data-theme="dark"] .chat-header,
    html.dark .chat-header {
        background: #0f172a;
    }
    html[data-theme="dark"] .chat-body,
    html.dark .chat-body {
        background-color: #0f172a;
        background-image: radial-gradient(#334155 1px, transparent 1px);
    }
    html[data-theme="dark"] .message.gast,
    html.dark .message.gast {
        background: #334155;
        color: #f8fafc;
    }
    html[data-theme="dark"] .message.marco,
    html.dark .message.marco {
        background: #1e3a8a;
        color: #ffffff;
    }
    html[data-theme="dark"] .chat-controls,
    html.dark .chat-controls {
        background: #1e293b;
        border-top-color: #334155;
    }
    html[data-theme="dark"] .chat-header-name,
    html[data-theme="dark"] .chat-header-status,
    html.dark .chat-header-name,
    html.dark .chat-header-status {
        color: #f8fafc;
    }
    html[data-theme="dark"] .message-time,
    html.dark .message-time {
        color: rgba(255,255,255,0.6);
    }

    html[data-theme="dark"] .chat-btn,
    html.dark .chat-btn {
        background: #2a3942;
        border-color: #444;
        color: #e9edef;
    }
    html[data-theme="dark"] .chat-btn:hover,
    html.dark .chat-btn:hover {
        background: #3c4a53;
    }
    html[data-theme="dark"] .persona-overlay,
    html.dark .persona-overlay {
        background: rgba(15, 23, 42, 0.98);
    }
    html[data-theme="dark"] .persona-card,
    html.dark .persona-card {
        background: #1e293b;
        border-color: #334155;
    }
    html[data-theme="dark"] .persona-card:hover,
    html.dark .persona-card:hover {
        border-color: #008069;
        background: #2a3942;
    }
    html[data-theme="dark"] .option-chip,
    html.dark .option-chip {
        background: #1e293b;
        border-color: #008069;
        color: #22c55e;
    }
    html[data-theme="dark"] .option-chip:hover,
    html.dark .option-chip:hover {
        background: #008069;
        color: white;
    }

    @media (max-width: 500px) {
        .persona-grid {
            grid-template-columns: 1fr;
        }
    }
  </style>
  <script src="../assets/js/theme.js"></script>
</head>
<body>
  <header class="site-header" data-header>
    <div class="ws-nav-container header-grid">
      <div class="brand">
        <a class="brand-link" href="/index.html#start">
          <img src="/assets/images/warenschmiede_logo.png" alt="Warenschmiede Logo" class="brand-logo" width="453" height="276" fetchpriority="high">
          <div class="brand-text">
            <span class="brand-name">Warenschmiede</span>
            <span class="brand-tagline">3D-Druck ¬∑ Made in Germany</span>
          </div>
        </a>
      </div>

      <nav class="main-nav" aria-label="Hauptnavigation">
        <div class="nav-menu" id="primary-navigation" data-nav-menu>
          <ul class="nav-list" id="navList">
            <li class="nav-item nav-fixed">
              <a class="nav-link" href="/index.html#start" data-nav-link data-section="start" data-path="/ , /index.html , /warenschmiede/ , /warenschmiede/index.html"><span class="nav-ico" aria-hidden="true">üè†</span>Start</a>
            </li>

            <li class="nav-item nav-fixed">
              <a class="nav-link" href="/downloads.html" data-nav-link data-path="/downloads , /downloads.html"><span class="nav-ico" aria-hidden="true">üì•</span>Downloads</a>
            </li>

            <li class="nav-item nav-fixed nav-more nav-dropdown nav-highlight nav-tools" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false">
                <span class="nav-ico" aria-hidden="true">üßÆ</span>Online Tools ‚ñæ
              </button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/tools/" data-nav-link data-path="/tools , /tools/ , /tools/index.html">
                    <span class="nav-ico" aria-hidden="true">üóÇÔ∏è</span>Tool-√úbersicht (Dashboard)
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/werkstatt-rechner.html" data-nav-link data-path="/werkstatt-rechner , /werkstatt-rechner.html">
                    <span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>Warenschmiede METALL
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/tools/kostenrechner-v2.html" data-nav-link data-path="/tools/kostenrechner-v2 , /tools/kostenrechner-v2.html">
                    <span class="nav-ico" aria-hidden="true">üßÆ</span>Warenschmiede 3D-Druck Suite
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/tools/buero/doku-light/QRCodeMasterPro.html" data-nav-link data-path="/tools/buero/doku-light/QRCodeMasterPro , /tools/buero/doku-light/QRCodeMasterPro.html">
                    <span class="nav-ico" aria-hidden="true">üî≥</span>Warenschmiede QR-Master ULTRA
                  </a>
                </li>
              </ul>
            </li>

            <li class="nav-item nav-fixed nav-more nav-dropdown nav-services" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">üß∞</span>Leistungen ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/leistungen/3d-druck.html" data-nav-link data-path="/leistungen/3d-druck , /leistungen/3d-druck.html"><span class="nav-ico" aria-hidden="true">üì¶</span>3D-Druckauftrag</a>
                </li>
                <li>
                  <a class="nav-link" href="/leistungen/cad-prototyping.html" data-nav-link data-path="/leistungen/cad-prototyping , /leistungen/cad-prototyping.html"><span class="nav-ico" aria-hidden="true">üìê</span>CAD &amp; Prototyping</a>
                </li>
                <li>
                  <a class="nav-link" href="/leistungen/pc-hilfe.html" data-nav-link data-path="/leistungen/pc-hilfe , /leistungen/pc-hilfe.html"><span class="nav-ico" aria-hidden="true">üíª</span>PC-Hilfe</a>
                </li>
              </ul>
            </li>
            <li class="nav-item nav-fixed nav-more nav-dropdown" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">ü§ñ</span>√úber KI ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li><a class="nav-link" href="/ki/chat.html"><span class="nav-ico" aria-hidden="true">üí¨</span>Interaktiver KI Versteher (NEU)</a></li>
                <li>
                  <a class="nav-link" href="/ki/index.html" data-nav-link data-path="/ki , /ki/ , /ki/index.html"><span class="nav-ico" aria-hidden="true">üìñ</span>Einf√ºhrung &amp; Grundlagen</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/prompts.html" data-nav-link data-path="/ki/prompts , /ki/prompts.html"><span class="nav-ico" aria-hidden="true">‚úçÔ∏è</span>Prompts f√ºr den Alltag</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/promt-trainer.html" data-nav-link data-path="/ki/promt-trainer , /ki/promt-trainer.html"><span class="nav-ico" aria-hidden="true">üß†</span>KI Trainer</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/ki-finder.html" data-nav-link data-path="/ki/ki-finder , /ki/ki-finder.html"><span class="nav-ico" aria-hidden="true">üß≠</span>Warenschmiede KI-Finder</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/tools.html" data-nav-link data-path="/ki/tools , /ki/tools.html"><span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>KI-Werkzeuge</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/so-arbeitest-du-mit-ki.html" data-nav-link data-path="/ki/so-arbeitest-du-mit-ki , /ki/so-arbeitest-du-mit-ki.html"><span class="nav-ico" aria-hidden="true">üß≠</span>So arbeitest du mit KI</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/programme-die-du-brauchst.html" data-nav-link data-path="/ki/programme-die-du-brauchst , /ki/programme-die-du-brauchst.html"><span class="nav-ico" aria-hidden="true">üíæ</span>Programme, die du brauchst</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/chancen-und-risiken.html" data-nav-link data-path="/ki/chancen-und-risiken , /ki/chancen-und-risiken.html"><span class="nav-ico" aria-hidden="true">‚öñÔ∏è</span>KI: Chancen &amp; Risiken</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/faq.html" data-nav-link data-path="/ki/faq , /ki/faq.html"><span class="nav-ico" aria-hidden="true">üîí</span>KI-FAQ &amp; Sicherheit</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/lexikon.html" data-nav-link data-path="/ki/lexikon , /ki/lexikon.html"><span class="nav-ico" aria-hidden="true">üî§</span>KI-Lexikon</a>
                </li>
              </ul>
            </li>
            <li class="nav-item nav-fixed nav-more nav-dropdown nav-contact" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">‚úâÔ∏è</span>Kontakt ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/kontakt.html" data-nav-link data-path="/kontakt , /kontakt.html , /warenschmiede/kontakt , /warenschmiede/kontakt.html"><span class="nav-ico" aria-hidden="true">üìß</span>Kontakt aufnehmen</a>
                </li>
                <li>
                  <a class="nav-link" href="/ablauf-anfrage.html" data-nav-link data-path="/ablauf-anfrage , /ablauf-anfrage.html"><span class="nav-ico" aria-hidden="true">üìù</span>Ablauf &amp; Anfrage</a>
                </li>
                <li>
                  <a class="nav-link" href="/impressum.html" data-nav-link data-path="/impressum , /impressum.html , /warenschmiede/impressum , /warenschmiede/impressum.html"><span class="nav-ico" aria-hidden="true">‚öñÔ∏è</span>Impressum</a>
                </li>
                <li>
                  <a class="nav-link" href="/ueber-mich.html" data-nav-link data-path="/ueber-mich , /ueber-mich.html , /warenschmiede/ueber-mich.html , /about , /about.html , /warenschmiede/about.html"><span class="nav-ico" aria-hidden="true">üë§</span>√úber mich</a>
                </li>
              </ul>
            </li>

            <li class="nav-item nav-fixed nav-more nav-dropdown nav-3d" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">üì¶</span>3D-Druck ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/3ddruck-chat.html" data-nav-link data-path="/3ddruck-chat , /3ddruck-chat.html"><span class="nav-ico" aria-hidden="true">üí¨</span>Interaktiver Berater (Neu)</a>
                </li>
                <li>
                  <a class="nav-link" href="/technologien.html" data-nav-link data-path="/technologien , /technologien.html"><span class="nav-ico" aria-hidden="true">üß™</span>FDM / SLA / SLS ‚Äì Technologien</a>
                </li>
                <li>
                  <a class="nav-link" href="/fehlerdatenbank.html" data-nav-link data-path="/fehlerdatenbank , /fehlerdatenbank.html"><span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>Fehler &amp; Troubleshooting</a>
                </li>
                <li>
                  <a class="nav-link" href="/ideenquellen.html" data-nav-link data-path="/ideenquellen , /ideenquellen.html , /ideen , /ideen/ , /ideen/index.html"><span class="nav-ico" aria-hidden="true">üí°</span>Ideenquellen &amp; Portale</a>
                </li>
                <li>
                  <a class="nav-link" href="/material.html" data-nav-link data-path="/material.html"><span class="nav-ico" aria-hidden="true">üìö</span>Materialwissen &amp; Vergleiche</a>
                </li>
                <li>
                  <a class="nav-link" href="/druck-tipps.html" data-nav-link data-path="/druck-tipps , /druck-tipps.html"><span class="nav-ico" aria-hidden="true">üß≠</span>Tipps &amp; Abl√§ufe / Kosten</a>
                </li>
                <li>
                  <a class="nav-link" href="/tools/kostenrechner-v2.html" data-nav-link data-path="/tools/kostenrechner-v2 , /tools/kostenrechner-v2.html"><span class="nav-ico" aria-hidden="true">üßÆ</span>Kosten &amp; Kalkulation</a>
                </li>
                <li>
                  <a class="nav-link" href="/slicer-einstellungen.html" data-nav-link data-path="/slicer-einstellungen , /slicer-einstellungen.html"><span class="nav-ico" aria-hidden="true">‚öôÔ∏è</span>Slicer &amp; Einstellungen</a>
                </li>
                <li>
                  <a class="nav-link" href="/3ddruck-faq.html" data-nav-link data-path="/3ddruck-faq , /3ddruck-faq.html"><span class="nav-ico" aria-hidden="true">‚ùì</span>Neu beim 3D-Druck?</a>
                </li>
                <li>
                  <a class="nav-link" href="/wartung-reinigung.html" data-nav-link data-path="/wartung-reinigung , /wartung-reinigung.html"><span class="nav-ico" aria-hidden="true">üßº</span>Wartung &amp; Reinigung</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>

      <div class="header-actions">
        <button class="theme-toggle" type="button" id="themeToggleBtn" aria-label="Design umschalten: Hell/Dunkel" title="Design umschalten: Hell/Dunkel" aria-pressed="false">
          <span id="themeIcon" aria-hidden="true">üñ•Ô∏è</span>
          <span class="theme-toggle__text" id="themeToggleText" aria-live="polite">Helles Design</span>
        </button>

        <button class="nav-toggle" type="button" aria-controls="primary-navigation" aria-expanded="false" data-nav-toggle>
          <span class="sr-only">Men√º √∂ffnen</span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
        </button>
      </div>
    </div>
  </header>

  <main class="site-main">
    <div class="container">
        <div class="ws-section" style="text-align: center;">
            <h1 class="ws-page-title">KI-Versteher</h1>
            <p style="color: var(--text-muted); max-width: 600px; margin: 0 auto;">
                W√§hle deinen Modus und entdecke, was K√ºnstliche Intelligenz f√ºr dich bedeutet.
            </p>
        </div>

        <div class="chat-container">
            <div class="persona-overlay" id="persona-overlay">
                <h2>KI einfach erkl√§rt.<br>Wer fragt gerade?</h2>
                <div class="persona-grid">
                    <div class="persona-card" onclick="selectPersona('senior')">
                        <div class="persona-emoji">üë¥</div>
                        <div class="persona-title">Senior / Einsteiger</div>
                        <div class="persona-desc">Einfach & Sicher</div>
                    </div>
                    <div class="persona-card" onclick="selectPersona('adult')">
                        <div class="persona-emoji">üë®‚Äçüíº</div>
                        <div class="persona-title">Beruf & Alltag</div>
                        <div class="persona-desc">Effizient & Praxis</div>
                    </div>
                    <div class="persona-card" onclick="selectPersona('youth')">
                        <div class="persona-emoji">üéÆ</div>
                        <div class="persona-title">Jugend & Schule</div>
                        <div class="persona-desc">Locker & Future</div>
                    </div>
                    <div class="persona-card" onclick="selectPersona('skeptic')">
                        <div class="persona-emoji">ü§®</div>
                        <div class="persona-title">Skeptiker</div>
                        <div class="persona-desc">Kritisch & Fakten</div>
                    </div>
                </div>
            </div>

            <div class="chat-header">
                <div class="chat-header-avatar">
                     <img src="/assets/img/marco.jpg" alt="Marco" onerror="this.src='../assets/img/avatar-placeholder.svg'">
                </div>
                <div class="chat-header-info">
                    <div class="chat-header-name">Marco (KI-Guide) <span class="status-dot"></span></div>
                    <div class="chat-header-status" id="chat-status">Online</div>
                </div>
            </div>

            <div class="chat-body" id="chat-body">
                <!-- Messages go here -->
            </div>

            <div class="typing-container">
                <div class="typing-indicator" id="typing-indicator">
                    <div class="dot"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
            </div>

            <div class="chat-controls">
                <button class="chat-btn" onclick="restartChat()">üîÑ Neustart / Wechseln</button>
            </div>
        </div>

        <div style="text-align: center; margin-top: 2rem; margin-bottom: 4rem;">
            <p style="color: var(--text-muted); font-size: 0.9rem;">
                Hinweis: Dies ist ein simulierter Chat. Alle Links √∂ffnen in einem neuen Tab.
            </p>
            <a href="/ki/tools.html" class="btn btn-primary">Alle KI-Tools ansehen</a>
        </div>
    </div>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer__inner">
        <div class="footer__brand">¬© 2026 Warenschmiede ¬∑ Alle Rechte vorbehalten.</div>
        <nav class="footer__links" aria-label="Rechtliches &amp; Kontakt">
          <a href="/impressum.html">Impressum</a>
          <a href="/datenschutz.html">Datenschutzerkl√§rung</a>
          <a href="/kontakt.html">Kontakt</a>
        </nav>
        <div class="footer__notes">
          <p><strong>Haftung / Nutzung:</strong> Alle Angaben ohne Gew√§hr ‚Äì Nutzung auf eigene Verantwortung.</p>
          <p><strong>Cookies:</strong> Diese Website verwendet keine Cookies oder Tracking.</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="../assets/js/theme.js"></script>
  <script src="../assets/js/header.js"></script>

  // Data Structure
    const PERSONAS = {
        senior: {
            name: "Senior",
            greeting: [
                { sender: 'marco', text: 'Hallo! üëã Sch√∂n, dass Sie sich trauen. Keine Sorge, wir gehen das ganz entspannt an.' },
                { sender: 'marco', text: 'Stellen Sie sich KI wie einen sehr belesenen **Bibliothekar** vor. üìö' },
                { sender: 'marco', text: 'Er hat alle B√ºcher der Welt gelesen, aber er "versteht" den Inhalt nicht wie ein Mensch. Er r√§t statistisch, welches Wort als n√§chstes kommt.' },
                { sender: 'marco', text: 'Was liegt Ihnen auf dem Herzen?' },
                { type: 'options', options: [
                    { label: 'Wie bediene ich das?', value: 'basics' },
                    { label: 'Reisen & Sprachen', value: 'travel' },
                    { label: 'Ist das sicher (Enkeltrick)?', value: 'risks' },
                    { label: 'Gesundheit (Vorsicht)', value: 'health' },
                    { label: 'Zeig mir Programme', value: 'tools' }
                ]}
            ],
            topics: {
                basics: {
                    messages: [
                        { sender: 'gast', text: 'Muss ich programmieren lernen?' },
                        { sender: 'marco', text: 'Nein! Sie steuern diese Programme mit ganz normaler Sprache.' },
                        { sender: 'marco', text: 'Schreiben Sie wie in einem Brief oder einer WhatsApp an die Familie.' },
                        { sender: 'marco', text: 'Beispiel: "Schreibe ein Gedicht f√ºr den 80. Geburtstag meiner Schwester Helga, sie mag Gartenarbeit."' }
                    ]
                },
                travel: {
                    messages: [
                        { sender: 'gast', text: 'Kann mir das im Urlaub helfen?' },
                        { sender: 'marco', text: 'Oh ja! Installieren Sie ChatGPT oder Google Translate auf dem Handy.' },
                        { sender: 'marco', text: 'Sie k√∂nnen deutsch hineinsprechen, und das Handy spricht den Satz sofort in Spanisch oder Italienisch aus.' },
                        { sender: 'marco', text: 'Soll ich ein Beispiel simulieren?' },
                        { type: 'options', options: [
                            { label: 'Ja, gerne!', value: 'travel_demo' },
                            { label: 'Nein, weiter.', value: 'restart_topics' }
                        ]}
                    ]
                },
                travel_demo: {
                    messages: [
                        { sender: 'marco', text: 'Okay, stellen Sie sich vor, Sie sind in Spanien in der Apotheke.' },
                        { sender: 'marco', text: 'Sie sagen: "Wo ist die n√§chste Apotheke?"' },
                        { sender: 'marco', text: 'Das Handy sagt laut: **"¬øD√≥nde est√° la farmacia m√°s cercana?"**' },
                        { sender: 'marco', text: 'Das nimmt die Angst vor fremden Sprachen!' }
                    ]
                },
                health: {
                    messages: [
                        { sender: 'gast', text: 'Kann ich die KI nach Medizin fragen?' },
                        { sender: 'marco', text: '‚ö†Ô∏è Bitte seien Sie da sehr vorsichtig!' },
                        { sender: 'marco', text: 'KI ist kein Arzt. Sie kann allgemeine Tipps geben ("Was hilft bei Wadenkrampf?"), aber sie erfindet manchmal Fakten.' },
                        { sender: 'marco', text: 'Vertrauen Sie bei Gesundheit immer echten Menschen und √Ñrzten, nicht dem Chatbot.' }
                    ]
                },
                risks: {
                    messages: [
                        { sender: 'gast', text: 'Man h√∂rt so viel vom Enkeltrick.' },
                        { sender: 'marco', text: 'Wichtiges Thema! Betr√ºger k√∂nnen Stimmen mit KI klonen.' },
                        { sender: 'marco', text: 'Wenn ein Anruf kommt ("Oma, ich brauche Geld"), legen Sie auf und rufen Sie den Enkel unter der Nummer an, die SIE gespeichert haben.' }
                    ]
                },
                tools: {
                    messages: [
                        { sender: 'gast', text: 'Wo finde ich das?' },
                        { sender: 'marco', text: 'Die meisten Basis-Versionen sind kostenlos.' },
                        { sender: 'marco', text: 'Ich habe eine Liste erstellt: <a href="/ki/tools.html" target="_blank">Zu meiner Werkzeug-√úbersicht</a>.' }
                    ]
                }
            }
        },
        adult: {
            name: "Berufst√§tig",
            greeting: [
                { sender: 'marco', text: 'Hi! Willkommen im Update f√ºr dein Arbeitsleben. üöÄ' },
                { sender: 'marco', text: 'Denk bei KI an einen hochintelligenten **Assistenten**, der 24/7 wach ist.' },
                { sender: 'marco', text: 'Lass uns keine Zeit verschwenden. Was bringt dich weiter?' },
                { type: 'options', options: [
                    { label: 'Excel & Office', value: 'office' },
                    { label: 'Bewerbung & Karriere', value: 'career' },
                    { label: 'Werde ich ersetzt?', value: 'jobs' },
                    { label: 'Tools f√ºr den Job', value: 'tools' }
                ]}
            ],
            topics: {
                office: {
                    messages: [
                        { sender: 'gast', text: 'Ich k√§mpfe oft mit Excel-Formeln...' },
                        { sender: 'marco', text: 'Das ist der perfekte Einsatzzweck!' },
                        { sender: 'marco', text: 'Kopiere einfach deine Spaltennamen in die KI und schreib: "Erstelle eine Formel, die Spalte A mit B vergleicht und Rot markiert, wenn..."' },
                        { sender: 'marco', text: 'Das spart Stunden an Arbeit.' }
                    ]
                },
                career: {
                    messages: [
                        { sender: 'gast', text: 'Kann die KI meinen Lebenslauf schreiben?' },
                        { sender: 'marco', text: 'Sie kann ihn extrem verbessern.' },
                        { sender: 'marco', text: 'Kopiere deinen alten Lebenslauf rein und sag: "Optimiere das f√ºr eine Stelle als Projektmanager. Mach es pr√§gnanter."' },
                        { sender: 'marco', text: 'Aber: Das Foto und die pers√∂nlichen Daten machst du bitte selbst! üòâ' }
                    ]
                },
                jobs: {
                    messages: [
                        { sender: 'gast', text: 'Kostet mich das meinen Job?' },
                        { sender: 'marco', text: 'Der Spruch der Branche ist: **"KI ersetzt keine Menschen. Aber Menschen mit KI ersetzen Menschen ohne KI."**' },
                        { sender: 'marco', text: 'Wer lernt, die Tools zu nutzen, wird produktiver und wertvoller. Wer sich verweigert, wird es schwer haben.' }
                    ]
                },
                tools: {
                    messages: [
                        { sender: 'gast', text: 'Welche Tools sind "Enterprise Ready"?' },
                        { sender: 'marco', text: 'Microsoft Copilot ist oft schon in Office drin. F√ºr Recherche ist Perplexity top.' },
                        { sender: 'marco', text: 'Hier ist meine Liste: <a href="/ki/tools.html" target="_blank">Zur Tool-√úbersicht</a>.' }
                    ]
                }
            }
        },
        youth: {
            name: "Jugend & Schule",
            greeting: [
                { sender: 'marco', text: 'Yo! ‚úåÔ∏è KI ist wie ein **NPC**, der pl√∂tzlich alles wei√ü.' },
                { sender: 'marco', text: 'Was ist dein Thema?' },
                { type: 'options', options: [
                    { label: 'Schule & Hausaufgaben', value: 'school' },
                    { label: 'Gaming & Coding', value: 'gaming' },
                    { label: 'Fake Influencer', value: 'fakes' },
                    { label: 'Krasse Tools', value: 'tools' }
                ]}
            ],
            topics: {
                school: {
                    messages: [
                        { sender: 'gast', text: 'Kann ich damit Hausaufgaben machen? üòÖ' },
                        { sender: 'marco', text: 'Klar KANNST du. Aber Lehrer checken das inzwischen.' },
                        { sender: 'marco', text: 'Der Hack ist: Lass die Hausaufgaben nicht SCHREIBEN, sondern ERKL√ÑREN.' },
                        { sender: 'marco', text: 'Prompt: "Erkl√§re mir Photosynthese mit Minecraft-Vergleichen." ‚Äì Das bleibt im Kopf!' }
                    ]
                },
                gaming: {
                    messages: [
                        { sender: 'gast', text: 'Was geht bei Gaming?' },
                        { sender: 'marco', text: 'Willst du ein Spiel bauen?' },
                        { type: 'options', options: [
                            { label: 'Ja, programmieren!', value: 'coding_deep' },
                            { label: 'Nein, nur zocken.', value: 'gaming_general' }
                        ]}
                    ]
                },
                coding_deep: {
                    messages: [
                        { sender: 'marco', text: 'Nice! Dann hol dir **Cursor** oder nutze ChatGPT.' },
                        { sender: 'marco', text: 'Sag einfach: "Schreib mir ein Snake-Spiel in Python". Die KI gibt dir den Code und erkl√§rt, wie du ihn startest.' }
                    ]
                },
                gaming_general: {
                    messages: [
                        { sender: 'marco', text: 'Auch gut. In Zukunft werden NPCs in Games viel schlauer sein und echte Gespr√§che mit dir f√ºhren, dank KI.' }
                    ]
                },
                fakes: {
                    messages: [
                        { sender: 'gast', text: 'Ist auf Social Media alles fake?' },
                        { sender: 'marco', text: 'Vieles. Es gibt Influencer, die nur Pixel sind.' },
                        { sender: 'marco', text: 'Glaube keinem Bild und keiner Stimme mehr blind. Check immer die Quelle.' }
                    ]
                },
                tools: {
                    messages: [
                        { sender: 'gast', text: 'Was gibt es Cooles?' },
                        { sender: 'marco', text: 'Bilder (Midjourney), Musik (Suno)... check meine Liste: <a href="/ki/tools.html" target="_blank">Zu den KI-Tools</a>' }
                    ]
                }
            }
        },
        skeptic: {
            name: "Skeptiker",
            greeting: [
                { sender: 'marco', text: 'Guten Tag. Gut, dass Sie kritisch bleiben.' },
                { sender: 'marco', text: 'KI ist **Statistik, keine Magie**. Ein Wahrscheinlichkeits-Rechner f√ºr Worte.' },
                { sender: 'marco', text: 'Lassen Sie uns Fakten diskutieren.' },
                { type: 'options', options: [
                    { label: 'Halluzinationen (L√ºgen)', value: 'hallucinations' },
                    { label: 'Urheberrecht & Klauen', value: 'privacy' },
                    { label: 'Energie & Umwelt', value: 'energy' },
                    { label: 'Lokale KI (Datenschutz)', value: 'local_ai' }
                ]}
            ],
            topics: {
                hallucinations: {
                    messages: [
                        { sender: 'gast', text: 'Das Ding erz√§hlt doch oft Unsinn.' },
                        { sender: 'marco', text: 'Korrekt. Man nennt es "Halluzinieren".' },
                        { sender: 'marco', text: 'Nutzen Sie KI nie als Lexikon ("Wann wurde X geboren?"), sondern als Sprach-Motor ("Formuliere diesen Text um").' }
                    ]
                },
                privacy: {
                    messages: [
                        { sender: 'gast', text: 'Die klauen doch Bilder von K√ºnstlern.' },
                        { sender: 'marco', text: 'Ein hei√ües Eisen. Ja, die Modelle wurden mit Daten aus dem Internet trainiert.' },
                        { sender: 'marco', text: 'Es gibt Tools wie "Glaze", mit denen K√ºnstler ihre Werke vor KI sch√ºtzen k√∂nnen.' }
                    ]
                },
                local_ai: {
                    messages: [
                        { sender: 'gast', text: 'Ich will meine Daten nicht in die Cloud laden.' },
                        { sender: 'marco', text: 'Verst√§ndlich. Kennen Sie **LM Studio**?' },
                        { sender: 'marco', text: 'Damit l√§uft die KI komplett auf Ihrem eigenen PC. Kein Internet n√∂tig, keine Daten verlassen das Haus. Das ist die Zukunft f√ºr Datenschutz.' }
                    ]
                },
                energy: {
                    messages: [
                        { sender: 'gast', text: 'Und der Stromverbrauch?' },
                        { sender: 'marco', text: 'Riesig. Ein KI-Bild kostet so viel Strom wie eine Handy-Ladung.' },
                        { sender: 'marco', text: 'Man sollte es bewusst nutzen, nicht f√ºr jeden Quatsch.' }
                    ]
                }
            }
        }
    };

    let activePersona = null;
    let messageQueue = [];
    let isProcessing = false;
    let chatBody = document.getElementById('chat-body');
    let typingIndicator = document.getElementById('typing-indicator');

    // UI Logic
    function selectPersona(personaKey) {
        activePersona = PERSONAS[personaKey];

        // Hide overlay
        document.getElementById('persona-overlay').style.display = 'none';

        // Start Chat
        messageQueue = [...activePersona.greeting];
        processQueue();
    }

    function restartChat() {
        // Clear Chat
        chatBody.innerHTML = '';
        messageQueue = [];
        isProcessing = false;
        clearTimeout(window.chatTimeout);
        typingIndicator.classList.remove('visible');

        // Show Overlay
        document.getElementById('persona-overlay').style.display = 'flex';
    }

    function addMessage(msgObj) {
        const msgDiv = document.createElement('div');
        msgDiv.className = `message ${msgObj.sender}`;

        // Format Text (Bold)
        let formattedText = msgObj.text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

        let contentHtml = `<span class="message-content">${formattedText}</span>`;
        contentHtml += `<span class="message-time">${new Date().toLocaleTimeString('de-DE', { hour: '2-digit', minute: '2-digit' })}</span>`;

        msgDiv.innerHTML = contentHtml;
        chatBody.appendChild(msgDiv);
        chatBody.scrollTop = chatBody.scrollHeight;
    }

    function addOptions(options) {
        const container = document.createElement('div');
        container.className = 'options-container';

        options.forEach(opt => {
            const chip = document.createElement('button');
            chip.className = 'option-chip';
            chip.textContent = opt.label;
            chip.onclick = () => handleOptionClick(opt.value, opt.label, container);
            container.appendChild(chip);
        });

        chatBody.appendChild(container);
        chatBody.scrollTop = chatBody.scrollHeight;
    }

        function handleOptionClick(value, label, container) {
        // Remove options after selection to prevent multi-clicks
        container.remove();

        // Add user choice as message
        addMessage({ sender: 'gast', text: label });

        // Load new topic messages
        if (activePersona.topics[value]) {
            const newMessages = activePersona.topics[value].messages;
            messageQueue = [...newMessages];

            // Check if the last message is options. If not, append generic options.
            const lastMsg = messageQueue[messageQueue.length - 1];
            if (!lastMsg || lastMsg.type !== 'options') {
                // Append "Anything else?" options at the end
                messageQueue.push({ sender: 'marco', text: 'M√∂chtest du noch etwas anderes wissen?' });
                messageQueue.push({ type: 'options', options: [
                    { label: 'Zur√ºck zur Auswahl', value: 'restart_topics' },
                    { label: 'Danke, reicht erstmal.', value: 'end' }
                ]});
            }

            processQueue();
        } else if (value === 'restart_topics') {
             // Re-show initial options
             const greetingOptions = activePersona.greeting.find(m => m.type === 'options');
             if (greetingOptions) {
                 messageQueue = [greetingOptions];
                 processQueue();
             }
        } else if (value === 'end') {
             messageQueue = [{ sender: 'marco', text: 'Alles klar! Viel Erfolg beim Ausprobieren. üëã' }];
             processQueue();
        }
    }

    function processQueue() {
        if (messageQueue.length === 0) {
            isProcessing = false;
            return;
        }

        isProcessing = true;
        const item = messageQueue.shift();

        if (item.type === 'options') {
            addOptions(item.options);
            isProcessing = false;
            return;
        }

        // It's a message
        let delay = 600 + (item.text.length * 15);
        if (item.sender === 'gast') delay = 400; // User messages appear faster

        if (item.sender === 'marco') {
            typingIndicator.classList.add('visible');
            chatBody.scrollTop = chatBody.scrollHeight;
        }

        window.chatTimeout = setTimeout(() => {
            typingIndicator.classList.remove('visible');
            addMessage(item);

            // Next message
            window.chatTimeout = setTimeout(processQueue, 500); // Small pause between messages
        }, delay);
    }
  </script>
</body>
</html>
