<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="icon" type="image/png" href="/ws.png" sizes="32x32">
  <link rel="apple-touch-icon" href="/ws.png" sizes="180x180">
  <meta name="theme-color" content="#000000">
  <title>Kostenrechner V2 ‚Äì Angebote & Rechnungen kalkulieren | Warenschmiede Tools</title>
  <meta name="description" content="Angebote und Rechnungen mit dem neuen Warenschmiede Kostenrechner V2 erstellen, speichern und als PDF drucken ‚Äì inklusive CO‚ÇÇ-Bilanz und Netto/Brutto-Optionen.">
  <meta name="robots" content="index,follow">
  <meta name="color-scheme" content="light dark">
  <!-- Offizielle URL f√ºr den Kostenrechner V2: https://www.warenschmiede.com/tools/kostenrechner-v2.html -->
  <link rel="canonical" href="https://www.warenschmiede.com/tools/kostenrechner-v2.html">
  <meta property="og:title" content="Kostenrechner V2 ‚Äì Angebote & Rechnungen kalkulieren | Warenschmiede Tools">
  <meta property="og:description" content="Angebote und Rechnungen mit dem neuen Warenschmiede Kostenrechner V2 erstellen, speichern und als PDF drucken ‚Äì inklusive CO‚ÇÇ-Bilanz und Netto/Brutto-Optionen.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://www.warenschmiede.com/tools/kostenrechner-v2.html">
  <meta property="og:image" content="/assets/og/og-default.jpg">
  <meta property="og:site_name" content="Warenschmiede">
  <meta property="og:locale" content="de_DE">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Kostenrechner V2 ‚Äì Angebote & Rechnungen kalkulieren | Warenschmiede Tools">
  <meta name="twitter:description" content="Angebote und Rechnungen mit dem neuen Warenschmiede Kostenrechner V2 erstellen, speichern und als PDF drucken ‚Äì inklusive CO‚ÇÇ-Bilanz und Netto/Brutto-Optionen.">
  <meta name="twitter:url" content="https://www.warenschmiede.com/tools/kostenrechner-v2.html">
  <meta name="twitter:image" content="/assets/og/og-default.jpg">
  <script>
    (function () {
      var storageKey = 'theme-preference';
      var preference = 'system';
      try {
        var stored = localStorage.getItem(storageKey);
        if (stored === 'light' || stored === 'dark' || stored === 'system') {
          preference = stored;
        }
      } catch (error) { }
      var mediaQuery = window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;
      var resolved = preference === 'dark'
        ? 'dark'
        : preference === 'light'
          ? 'light'
          : (mediaQuery && mediaQuery.matches ? 'dark' : 'light');
      var root = document.documentElement;
      root.dataset.theme = resolved;
      root.dataset.themePreference = preference;
    })();
  </script>
  <link rel="stylesheet" href="/styles.css">
  <link rel="stylesheet" href="/assets/print.css?v=1.0.7" media="print">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&family=Oswald:wght@500;700&family=Orbitron:wght@500;700&family=Bebas+Neue&family=Kalam:wght@300;400;700&family=Nothing+You+Could+Do&display=swap" rel="stylesheet">
  <script>
    window.tailwind = window.tailwind || {};
    window.tailwind.config = { corePlugins: { preflight: false } };
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/@phosphor-icons/web" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>

        body {
            font-family: 'Inter', sans-serif;
            background-color: #1e293b;
        }

        /* A4 Page Styles */
        .a4-page {
            width: 210mm;
            height: 296mm;
            background: white;
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            margin: 0 auto 40px auto;
            padding: 20mm;
            position: relative;
            color: #1f2937;
            font-size: 10pt;
            line-height: 1.5;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            flex-shrink: 0;
        }

        /* BEZAHLT STEMPEL */
        .paid-stamp {
            position: absolute;
            top: 35%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-12deg);
            color: #dc2626; /* Red-600 */
            border: 6px solid #dc2626;
            padding: 1rem 2rem;
            font-size: 4rem;
            font-weight: 900;
            text-transform: uppercase;
            opacity: 0.25; /* Transparenz wie Stempelfarbe */
            z-index: 50;
            pointer-events: none;
            font-family: 'Courier New', Courier, monospace;
            letter-spacing: 0.2em;
            border-radius: 8px;
            mix-blend-mode: multiply;
        }

        /* Scrollbar Styling */
        .custom-scroll::-webkit-scrollbar {
            width: 8px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: transparent;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }

        .preview-area::-webkit-scrollbar {
            width: 12px;
        }

        .preview-area::-webkit-scrollbar-track {
            background: #0f172a;
        }

        .preview-area::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 6px;
            border: 3px solid #0f172a;
        }

        /* Input Styling */
        .input-group {
            @apply space-y-1;
        }

        .input-label {
            @apply block text-[11px] font-bold text-slate-700 uppercase tracking-wide;
        }

        .input-field {
            @apply w-full bg-slate-50 border border-slate-400 text-slate-900 rounded-md px-3 py-2 text-sm transition-all shadow-sm placeholder-slate-400;
            @apply focus:bg-white focus:outline-none focus:border-blue-600 focus:ring-1 focus:ring-blue-600;
        }

            .input-field:disabled {
                @apply bg-slate-100 text-slate-400 border-slate-200;
            }

        /* Section Cards */
        .config-card {
            @apply bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden mb-6;
        }

        .config-header {
            @apply bg-slate-100 px-4 py-3 border-b border-slate-200 flex items-center gap-2 font-bold text-slate-700;
        }

        .config-body {
            @apply p-5 space-y-4;
        }

        /* Tooltip Helper */
        .tooltip {
            @apply relative inline-block;
        }

            .tooltip .tooltip-text {
                @apply invisible absolute z-50 w-48 bg-slate-800 text-white text-[10px] text-center rounded p-2 -top-1 left-full ml-2 opacity-0 transition-opacity pointer-events-none;
            }

            .tooltip:hover .tooltip-text {
                @apply visible opacity-100;
            }

        /* Print Styles */
        @media print {
            @page {
                margin: 0;
                size: A4 portrait;
            }

            body {
                background: white;
                height: auto;
                overflow: visible;
            }

            aside, .no-print {
                display: none !important;
            }

            main {
                position: static !important;
                display: block !important;
                width: 100% !important;
                height: auto !important;
                overflow: visible !important;
                background: white !important;
                padding: 0 !important;
                margin: 0 !important;
            }

            .a4-page {
                box-shadow: none !important;
                margin: 0 !important;
                width: 100% !important;
                height: 296mm !important;
                page-break-after: always !important;
                break-after: page !important;
                border: none !important;
            }

                .a4-page:last-child {
                    page-break-after: auto !important;
                    break-after: auto !important;
                }
        }
    
  </style>
</head>
<body>
<header class="site-header" data-header>
    <div class="ws-nav-container header-grid">
      <div class="brand">
        <a class="brand-link" href="/index.html#start">
          <img src="/assets/images/warenschmiede_logo.png" alt="Warenschmiede Logo" class="brand-logo" width="453" height="276" fetchpriority="high">
          <div class="brand-text">
            <span class="brand-name">Warenschmiede</span>
            <span class="brand-tagline">3D-Druck ¬∑ Made in Germany</span>
          </div>
        </a>
      </div>

      <nav class="main-nav" aria-label="Hauptnavigation">
        <div class="nav-menu" id="primary-navigation" data-nav-menu>
          <ul class="nav-list" id="navList">
            <li class="nav-item nav-fixed">
              <a class="nav-link" href="/index.html#start" data-nav-link data-section="start" data-path="/ , /index.html , /warenschmiede/ , /warenschmiede/index.html"><span class="nav-ico" aria-hidden="true">üè†</span>Start</a>
            </li>

            <!-- Neuer Dropdown: Rechner & Tools -->
            <li class="nav-item nav-fixed nav-more nav-dropdown nav-highlight nav-tools" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false">
                <span class="nav-ico" aria-hidden="true">üßÆ</span>Rechner &amp; Tools ‚ñæ
              </button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/tools/kostenrechner-v2.html" data-nav-link data-path="/tools/kostenrechner-v2 , /tools/kostenrechner-v2.html">
                    <span class="nav-ico" aria-hidden="true">üßÆ</span>Kostenrechner V2
                  </a>
                </li>
                <li>
                  <a
                    class="nav-link"
                    href="/tools/buero/doku-light/"
                    data-nav-link
                    data-path="/tools/buero/doku-light , /tools/buero/doku-light/ , /tools/buero/doku-light/index.html"
                  >
                    <span class="nav-ico" aria-hidden="true">üìÑ</span>Dokumenten-Tool Light
                  </a>
                </li>
                <li>
                  <a
                    class="nav-link"
                    href="/tools/buero/doku-light/Audio to Video Converter - Legacy Safe Mode.html"
                    data-nav-link
                    data-path="/tools/buero/doku-light/Audio%20to%20Video%20Converter%20-%20Legacy%20Safe%20Mode.html , /tools/buero/doku-light/Audio to Video Converter - Legacy Safe Mode.html"
                  >
                    <span class="nav-ico" aria-hidden="true">üéß</span>Audio-to-Video Konverter (Legacy)
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/bild-konverter.html" data-nav-link data-path="/bild-konverter , /bild-konverter.html">
                    <span class="nav-ico" aria-hidden="true">üñºÔ∏è</span>Bilder Tools
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/tools/buero/doku-light/QRCodeMasterPro.html" data-nav-link data-path="/tools/buero/doku-light/QRCodeMasterPro , /tools/buero/doku-light/QRCodeMasterPro.html">
                    <span class="nav-ico" aria-hidden="true">üî≥</span>QR-Code Generator
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/tools/buero/doku-light/ReceiptWriterPro.html" data-nav-link data-path="/tools/buero/doku-light/ReceiptWriterPro , /tools/buero/doku-light/ReceiptWriterPro.html">
                    <span class="nav-ico" aria-hidden="true">üßæ</span>Quittungs-Generator
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/tools/buero/doku-light/CNCMasterCalc.html" data-nav-link data-path="/tools/buero/doku-light/CNCMasterCalc , /tools/buero/doku-light/CNCMasterCalc.html">
                    <span class="nav-ico" aria-hidden="true">‚öôÔ∏è</span>CNCMasterCalc
                  </a>
                </li>
                <li>
                  <a class="nav-link" href="/werkstatt-rechner.html" data-nav-link data-path="/werkstatt-rechner , /werkstatt-rechner.html">
                    <span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>Werkstatt-Rechner
                  </a>
                </li>
              </ul>
            </li>

            <li class="nav-item nav-fixed nav-more nav-dropdown nav-services" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">üß∞</span>Leistungen ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/leistungen/3d-druck.html" data-nav-link data-path="/leistungen/3d-druck , /leistungen/3d-druck.html"><span class="nav-ico" aria-hidden="true">üì¶</span>3D-Druckauftrag</a>
                </li>
                <li>
                  <a class="nav-link" href="/leistungen/cad-prototyping.html" data-nav-link data-path="/leistungen/cad-prototyping , /leistungen/cad-prototyping.html"><span class="nav-ico" aria-hidden="true">üìê</span>CAD &amp; Prototyping</a>
                </li>
                <li>
                  <a class="nav-link" href="/leistungen/pc-hilfe.html" data-nav-link data-path="/leistungen/pc-hilfe , /leistungen/pc-hilfe.html"><span class="nav-ico" aria-hidden="true">üíª</span>PC-Hilfe</a>
                </li>
              </ul>
            </li>
            <li class="nav-item nav-fixed nav-more nav-dropdown" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">ü§ñ</span>√úber KI ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/ki/index.html" data-nav-link data-path="/ki , /ki/ , /ki/index.html"><span class="nav-ico" aria-hidden="true">üìñ</span>Einf√ºhrung &amp; Grundlagen</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/prompts.html" data-nav-link data-path="/ki/prompts , /ki/prompts.html"><span class="nav-ico" aria-hidden="true">‚úçÔ∏è</span>Prompts f√ºr den Alltag</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/tools.html" data-nav-link data-path="/ki/tools , /ki/tools.html"><span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>KI-Werkzeuge</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/so-arbeitest-du-mit-ki.html" data-nav-link data-path="/ki/so-arbeitest-du-mit-ki , /ki/so-arbeitest-du-mit-ki.html"><span class="nav-ico" aria-hidden="true">üß≠</span>So arbeitest du mit KI</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/programme-die-du-brauchst.html" data-nav-link data-path="/ki/programme-die-du-brauchst , /ki/programme-die-du-brauchst.html"><span class="nav-ico" aria-hidden="true">üíæ</span>Programme, die du brauchst</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/chancen-und-risiken.html" data-nav-link data-path="/ki/chancen-und-risiken , /ki/chancen-und-risiken.html"><span class="nav-ico" aria-hidden="true">‚öñÔ∏è</span>KI: Chancen &amp; Risiken</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/faq.html" data-nav-link data-path="/ki/faq , /ki/faq.html"><span class="nav-ico" aria-hidden="true">üîí</span>KI-FAQ &amp; Sicherheit</a>
                </li>
                <li>
                  <a class="nav-link" href="/ki/lexikon.html" data-nav-link data-path="/ki/lexikon , /ki/lexikon.html"><span class="nav-ico" aria-hidden="true">üî§</span>KI-Lexikon</a>
                </li>
              </ul>
            </li>
            <li class="nav-item nav-fixed nav-more nav-dropdown nav-contact" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">‚úâÔ∏è</span>Kontakt ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/kontakt.html" data-nav-link data-path="/kontakt , /kontakt.html , /warenschmiede/kontakt , /warenschmiede/kontakt.html"><span class="nav-ico" aria-hidden="true">üìß</span>Kontakt aufnehmen</a>
                </li>
                <li>
                  <a class="nav-link" href="/ablauf-anfrage.html" data-nav-link data-path="/ablauf-anfrage , /ablauf-anfrage.html"><span class="nav-ico" aria-hidden="true">üìù</span>Ablauf &amp; Anfrage</a>
                </li>
                <li>
                  <a class="nav-link" href="/impressum.html" data-nav-link data-path="/impressum , /impressum.html , /warenschmiede/impressum , /warenschmiede/impressum.html"><span class="nav-ico" aria-hidden="true">‚öñÔ∏è</span>Impressum</a>
                </li>
                <li>
                  <a class="nav-link" href="/ueber-mich.html" data-nav-link data-path="/ueber-mich , /ueber-mich.html , /warenschmiede/ueber-mich.html , /about , /about.html , /warenschmiede/about.html"><span class="nav-ico" aria-hidden="true">üë§</span>√úber mich</a>
                </li>
              </ul>
            </li>

            <li class="nav-item nav-fixed nav-more nav-dropdown nav-3d" data-nav-dropdown>
              <button class="nav-more-btn" type="button" aria-haspopup="true" aria-expanded="false"><span class="nav-ico" aria-hidden="true">üì¶</span>3D-Druck ‚ñæ</button>
              <ul class="nav-more-menu" hidden>
                <li>
                  <a class="nav-link" href="/technologien.html" data-nav-link data-path="/technologien , /technologien.html"><span class="nav-ico" aria-hidden="true">üß™</span>FDM / SLA / SLS ‚Äì Technologien</a>
                </li>
                <li>
                  <a class="nav-link" href="/fehlerdatenbank.html" data-nav-link data-path="/fehlerdatenbank , /fehlerdatenbank.html"><span class="nav-ico" aria-hidden="true">üõ†Ô∏è</span>Fehler &amp; Troubleshooting</a>
                </li>
                <li>
                  <a class="nav-link" href="/ideenquellen.html" data-nav-link data-path="/ideenquellen , /ideenquellen.html , /ideen , /ideen/ , /ideen/index.html"><span class="nav-ico" aria-hidden="true">üí°</span>Ideenquellen &amp; Portale</a>
                </li>
                <li>
                  <a class="nav-link" href="/material.html" data-nav-link data-path="/material.html"><span class="nav-ico" aria-hidden="true">üìö</span>Materialwissen &amp; Vergleiche</a>
                </li>
                <li>
                  <a class="nav-link" href="/druck-tipps.html" data-nav-link data-path="/druck-tipps , /druck-tipps.html"><span class="nav-ico" aria-hidden="true">üß≠</span>Tipps &amp; Abl√§ufe / Kosten</a>
                </li>
                <li>
                  <a class="nav-link" href="/tools/kostenrechner-v2.html" data-nav-link data-path="/tools/kostenrechner-v2 , /tools/kostenrechner-v2.html"><span class="nav-ico" aria-hidden="true">üßÆ</span>Kostenrechner V2</a>
                </li>
                <li>
                  <a class="nav-link" href="/slicer-einstellungen.html" data-nav-link data-path="/slicer-einstellungen , /slicer-einstellungen.html"><span class="nav-ico" aria-hidden="true">‚öôÔ∏è</span>Slicer &amp; Einstellungen</a>
                </li>
                <li>
                  <a class="nav-link" href="/3ddruck-faq.html" data-nav-link data-path="/3ddruck-faq , /3ddruck-faq.html"><span class="nav-ico" aria-hidden="true">‚ùì</span>Neu beim 3D-Druck?</a>
                </li>
                <li>
                  <a class="nav-link" href="/wartung-reinigung.html" data-nav-link data-path="/wartung-reinigung , /wartung-reinigung.html"><span class="nav-ico" aria-hidden="true">üßº</span>Wartung &amp; Reinigung</a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
      </nav>

      <div class="header-actions">
        <button class="theme-toggle" type="button" id="themeToggleBtn" aria-label="Design umschalten: Hell/Dunkel" title="Design umschalten: Hell/Dunkel" aria-pressed="false">
          <span id="themeIcon" aria-hidden="true">üñ•Ô∏è</span>
          <span class="theme-toggle__text" id="themeToggleText" aria-live="polite">Helles Design</span>
        </button>

        <button class="nav-toggle" type="button" aria-controls="primary-navigation" aria-expanded="false" data-nav-toggle>
          <span class="sr-only">Men√º √∂ffnen</span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
          <span class="nav-toggle-bar" aria-hidden="true"></span>
        </button>
      </div>
    </div>
  </header>
  <main id="inhalt" class="site-main" tabindex="-1">
    <section class="section ws-section" aria-label="Kostenrechner V2">
      <div class="container">
        <div class="kostenrechner-v2-app h-screen overflow-hidden flex" x-data="appData()" x-init="initApp()">
            <!-- LINKS: EINGABEN -->
            <aside class="w-[550px] bg-gray-50 border-r border-gray-300 flex flex-col h-full no-print z-20 shadow-2xl shrink-0">

                <!-- Header -->
                <div class="p-4 bg-white border-b border-gray-200 flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div class="bg-blue-600 text-white w-8 h-8 rounded-lg flex items-center justify-center font-bold text-lg shadow">W</div>
                        <div>
                            <h1 class="font-bold text-gray-800 leading-none tracking-tight">Warenschmiede</h1>
                            <span class="text-[10px] text-gray-500 font-mono tracking-widest uppercase">Calc V2.18</span>
                        </div>
                    </div>

                    <div class="flex gap-2">
                        <button @click="exportToFile()" title="Projekt speichern" class="text-gray-500 hover:text-blue-600 p-2 hover:bg-gray-100 rounded-md transition-colors"><i class="fa-solid fa-download"></i></button>
                        <label title="Projekt laden" class="text-gray-500 hover:text-blue-600 p-2 hover:bg-gray-100 rounded-md cursor-pointer transition-colors"><i class="fa-solid fa-upload"></i><input type="file" class="hidden" accept=".json" @change="importFromFile"></label>
                        <button @click="location.reload()" title="Neu laden" class="text-gray-400 hover:text-gray-600 p-2 hover:bg-gray-100 rounded-md transition-colors"><i class="fa-solid fa-rotate-right"></i></button>
                    </div>
                </div>

                <!-- Scroll-Bereich Inputs -->
                <div class="flex-1 overflow-y-auto p-6 space-y-8 custom-scroll">

                    <!-- 1. ANBIETER KARTE -->
                    <section class="config-card">
                        <div class="config-header">
                            <i class="fa-solid fa-store text-blue-500"></i>
                            <span>Anbieter-Daten (Du)</span>
                        </div>
                        <div class="config-body">
                            <div class="grid grid-cols-2 gap-4">
                                <div class="input-group"><label class="input-label">Firmenname:</label><input type="text" x-model="vendor.company" class="input-field font-bold"></div>
                                <div class="input-group"><label class="input-label">Inhaber / Name:</label><input type="text" x-model="vendor.name" class="input-field"></div>
                            </div>
                            <div class="input-group"><label class="input-label">Slogan:</label><input type="text" x-model="vendor.slogan" class="input-field"></div>
                            <div class="grid grid-cols-3 gap-4">
                                <div class="col-span-2 input-group"><label class="input-label">Stra√üe:</label><input type="text" x-model="vendor.street" class="input-field"></div>
                                <div class="input-group"><label class="input-label">PLZ:</label><input type="text" x-model="vendor.zip" class="input-field"></div>
                            </div>
                            <div class="input-group"><label class="input-label">Stadt:</label><input type="text" x-model="vendor.city" class="input-field"></div>

                            <details class="group bg-slate-50 border border-slate-200 rounded-lg overflow-hidden">
                                <summary class="px-4 py-3 text-xs font-bold text-slate-600 cursor-pointer list-none flex items-center justify-between hover:bg-slate-100 transition-colors">
                                    <span><i class="fa-solid fa-building-columns mr-2 text-slate-400"></i> Bank & Kontakt</span>
                                    <i class="fa-solid fa-chevron-down transition-transform group-open:rotate-180"></i>
                                </summary>
                                <div class="p-4 space-y-4 border-t border-slate-200">
                                    <div class="grid grid-cols-2 gap-4">
                                        <div class="input-group"><label class="input-label">Email:</label><input type="text" x-model="vendor.email" class="input-field"></div>
                                        <div class="input-group"><label class="input-label">Telefon:</label><input type="text" x-model="vendor.phone" class="input-field"></div>
                                    </div>
                                    <div class="input-group"><label class="input-label">Bank Name:</label><input type="text" x-model="vendor.bank" class="input-field"></div>
                                    <div class="grid grid-cols-2 gap-4">
                                        <div class="input-group"><label class="input-label">IBAN:</label><input type="text" x-model="vendor.iban" class="input-field font-mono text-xs"></div>
                                        <div class="input-group"><label class="input-label">BIC:</label><input type="text" x-model="vendor.bic" class="input-field font-mono text-xs"></div>
                                    </div>
                                    <div class="input-group"><label class="input-label">USt-IdNr.:</label><input type="text" x-model="vendor.taxId" class="input-field"></div>
                                </div>
                            </details>
                        </div>
                    </section>

                    <!-- 2. KUNDE & DOKUMENT KARTE -->
                    <section class="config-card">
                        <div class="config-header">
                            <i class="fa-solid fa-user-tie text-blue-500"></i>
                            <span>Kunde & Dokument</span>
                        </div>
                        <div class="config-body">
                            <div class="bg-slate-100 p-1 rounded-lg flex mb-2">
                                <button @click="docType = 'angebot'" :class="{'bg-white text-blue-700 shadow-sm': docType === 'angebot', 'text-slate-500': docType !== 'angebot'}" class="flex-1 py-1.5 text-xs font-bold rounded-md transition-all">ANGEBOT</button>
                                <button @click="docType = 'rechnung'" :class="{'bg-white text-blue-700 shadow-sm': docType === 'rechnung', 'text-slate-500': docType !== 'rechnung'}" class="flex-1 py-1.5 text-xs font-bold rounded-md transition-all">RECHNUNG</button>
                            </div>
                            <div class="space-y-3 pb-4 border-b border-slate-100">
                                <div class="input-group"><label class="input-label">Kunde / Firma:</label><input type="text" x-model="customer.name" class="input-field font-bold"></div>
                                <div class="input-group"><label class="input-label">Anschrift:</label><textarea x-model="customer.address" rows="3" class="input-field resize-none"></textarea></div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div class="input-group"><label class="input-label">Projekt:</label><input type="text" x-model="project.name" class="input-field font-semibold"></div>
                                <div class="input-group"><label class="input-label">Nr.:</label><input type="text" x-model="project.number" class="input-field text-right"></div>
                                <div class="input-group"><label class="input-label">Datum:</label><input type="date" x-model="project.date" class="input-field"></div>
                                <div class="input-group"><label class="input-label">Kd-Nr.:</label><input type="text" x-model="customer.id" class="input-field text-right"></div>
                                <div class="input-group col-span-2"><label class="input-label">Bestell-Nr. (Kunde):</label><input type="text" x-model="customer.orderNumber" class="input-field" placeholder="z.B. PO-12345"></div>
                            </div>
                            <div class="flex items-center justify-between pt-2">
                                <span class="text-xs font-bold text-slate-600">Umsatzsteuer (19%)</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" x-model="settings.taxEnabled" class="sr-only peer">
                                    <div class="w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                                </label>
                            </div>
                            <!-- NEW CO2 Toggle -->
                            <div class="flex items-center justify-between pt-1">
                                <span class="text-xs font-bold text-slate-600 flex items-center gap-1"><i class="fa-solid fa-leaf text-green-500"></i> CO‚ÇÇ-Bilanz anzeigen</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" x-model="settings.showCO2" class="sr-only peer">
                                    <div class="w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:bg-green-500 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                                </label>
                            </div>
                            <!-- NEW: BEZAHLT STEMPEL Toggle -->
                            <div class="flex items-center justify-between pt-1" x-show="docType === 'rechnung'">
                                <span class="text-xs font-bold text-slate-600 flex items-center gap-1"><i class="fa-solid fa-stamp text-red-500"></i> "BEZAHLT" Stempel</span>
                                <label class="relative inline-flex items-center cursor-pointer">
                                    <input type="checkbox" x-model="settings.showPaid" class="sr-only peer">
                                    <div class="w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:bg-red-500 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:after:translate-x-full"></div>
                                </label>
                            </div>
                        </div>
                    </section>

                    <!-- 3. DRUCK JOBS -->
                    <section class="mb-6">
                        <div class="flex justify-between items-center mb-3 px-1">
                            <h3 class="text-sm font-bold text-slate-700 uppercase tracking-wide flex items-center gap-2">
                                <i class="fa-solid fa-cubes text-blue-500"></i> Druck-Auftr√§ge
                            </h3>

                            <!-- Defaults Dropdown (FIXED: click.outside moved to DIV) -->
                            <div x-data="{ open: false }" class="relative" @click.outside="open = false">
                                <button @click="open = !open" class="text-[10px] font-bold text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1">
                                    <i class="fa-solid fa-sliders"></i> Defaults
                                </button>
                                <div x-show="open" class="absolute right-0 top-full mt-2 w-72 bg-white border border-slate-200 shadow-xl rounded-xl p-4 z-50 transform origin-top-right transition-all">
                                    <h4 class="text-xs font-bold uppercase mb-3 text-slate-500 border-b pb-2">Globale Werte</h4>
                                    <div class="grid grid-cols-2 gap-3 mb-2">
                                        <div class="input-group"><label class="input-label">Mat. ‚Ç¨/kg</label><input type="number" x-model.number="defaults.priceKg" class="input-field"></div>
                                        <div class="input-group"><label class="input-label">Strom ‚Ç¨</label><input type="number" x-model.number="defaults.energyPrice" class="input-field"></div>
                                        <div class="input-group"><label class="input-label">Lohn ‚Ç¨</label><input type="number" x-model.number="defaults.hourlyRate" class="input-field"></div>
                                        <div class="input-group"><label class="input-label">Masch. ‚Ç¨</label><input type="number" x-model.number="defaults.machineHourly" class="input-field"></div>
                                    </div>
                                    <div class="input-group mb-2"><label class="input-label">Marge %</label><input type="number" x-model.number="defaults.marginPercent" class="input-field"></div>

                                    <!-- INFO SECTION CO2 -->
                                    <h4 class="text-xs font-bold uppercase mb-2 mt-4 text-green-600 border-b pb-1 flex items-center gap-1">
                                        √ñko-Daten <div class="tooltip"><i class="fa-solid fa-circle-info text-slate-400 cursor-help"></i><span class="tooltip-text">Der CO‚ÇÇ-Wert f√ºr Stromerzeugung. DE-Mix ‚âà 0.4 kg/kWh. √ñkostrom ‚âà 0.0 kg. Siehe Stromrechnung.</span></div>
                                    </h4>
                                    <div class="input-group"><label class="input-label">Strom Mix (kg CO2/kWh)</label><input type="number" x-model.number="defaults.co2Electricity" step="0.01" class="input-field"></div>
                                </div>
                            </div>
                        </div>

                        <div class="space-y-4">
                            <template x-for="(job, index) in printJobs" :key="job.id">
                                <div class="bg-white border border-slate-300 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all">
                                    <div class="bg-slate-50 px-4 py-3 flex justify-between items-center cursor-pointer hover:bg-slate-100 border-b border-slate-200" @click="job.expanded = !job.expanded">
                                        <div class="flex items-center gap-3">
                                            <div class="bg-blue-100 text-blue-600 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold" x-text="index + 1"></div>
                                            <div class="flex flex-col">
                                                <span class="font-bold text-sm text-slate-700" x-text="job.name || 'Unbenannter Job'"></span>
                                                <div class="flex gap-3 text-[10px] text-slate-500 font-mono">
                                                    <span x-text="formatMoney(calculateJobTotal(job))"></span>
                                                    <span class="text-green-600 flex items-center gap-1"><i class="fa-solid fa-leaf text-[9px]"></i> <span x-text="(calculateJobCO2(job)*1000).toFixed(0) + 'g'"></span></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="flex items-center gap-3">
                                            <button @click.stop="removePrintJob(index)" class="text-slate-400 hover:text-red-500"><i class="fa-solid fa-trash-can"></i></button>
                                            <i class="fa-solid fa-chevron-down text-slate-400 text-xs transition-transform duration-200" :class="{'rotate-180': job.expanded}"></i>
                                        </div>
                                    </div>

                                    <div x-show="job.expanded" class="p-4 space-y-4">
                                        <div class="input-group"><label class="input-label">Bezeichnung</label><input type="text" x-model="job.name" class="input-field"></div>

                                        <div class="grid grid-cols-2 gap-4">
                                            <div class="input-group">
                                                <label class="input-label">Material</label>
                                                <select class="input-field" x-model="job.material" @change="applyMaterial(job)">
                                                    <option value="pla">PLA ‚Äì Standard, gutm√ºtig (ca. 18‚Äì24 ‚Ç¨/kg)</option>
                                                    <option value="pla_plus">PLA+ ‚Äì etwas robuster als PLA</option>
                                                    <option value="pla_silk">PLA Silk ‚Äì glatte Optik, eher Deko</option>
                                                    <option value="petg">PETG ‚Äì robust, z√§h (ca. 20‚Äì26 ‚Ç¨/kg)</option>
                                                    <option value="petg_cf">PETG-CF ‚Äì Carbonmix, sehr steif</option>
                                                    <option value="abs">ABS ‚Äì temperaturfest</option>
                                                    <option value="abs_cf">ABS-CF ‚Äì fester, anspruchsvoll</option>
                                                    <option value="asa">ASA ‚Äì UV-best√§ndig, Outdoor</option>
                                                    <option value="asa_cf">ASA-CF ‚Äì steif, wetterfest, matt</option>
                                                    <option value="tpu">TPU ‚Äì flexibel, langsam drucken</option>
                                                    <option value="pa">Nylon (PA) ‚Äì sehr robust</option>
                                                    <option value="custom">Benutzerdefiniert</option>
                                                </select>
                                            </div>
                                            <div class="input-group"><label class="input-label">Preis ‚Ç¨/kg</label><input type="number" x-model.number="job.priceKg" class="input-field"></div>
                                        </div>

                                        <div class="grid grid-cols-2 gap-4 bg-blue-50/50 p-3 rounded-lg border border-blue-100">
                                            <div class="input-group"><label class="input-label text-blue-700">Gewicht (g)</label><input type="number" x-model.number="job.weight" class="input-field font-bold text-blue-900 border-blue-200"></div>
                                            <div class="input-group"><label class="input-label text-blue-700">Zeit (h)</label><input type="number" x-model.number="job.time" step="0.1" class="input-field font-bold text-blue-900 border-blue-200"></div>
                                        </div>

                                        <!-- Detail Kalkulation -->
                                        <details class="group border border-slate-200 rounded-lg overflow-hidden">
                                            <summary class="px-3 py-2 bg-slate-50 text-xs font-bold text-slate-600 cursor-pointer list-none flex items-center justify-between hover:bg-slate-100">
                                                <span><i class="fa-solid fa-calculator mr-1 text-slate-400"></i> Kosten & Marge Details</span>
                                                <i class="fa-solid fa-chevron-down ml-auto transition-transform group-open:rotate-180"></i>
                                            </summary>
                                            <div class="p-3 space-y-4 bg-white border-t border-slate-200">
                                                <div class="grid grid-cols-4 gap-3">
                                                    <div class="input-group"><label class="input-label">Arbeit (Min)</label><input type="number" x-model.number="job.laborMinutes" class="input-field text-xs px-2"></div>
                                                    <div class="input-group"><label class="input-label">Std-Lohn</label><input type="number" x-model.number="job.hourlyRate" class="input-field text-xs px-2"></div>
                                                    <div class="input-group"><label class="input-label">Strom-Pr.</label><input type="number" x-model.number="job.energyPrice" step="0.01" class="input-field text-xs px-2"></div>
                                                    <div class="input-group"><label class="input-label">Watt</label><input type="number" x-model.number="job.watts" class="input-field text-xs px-2"></div>
                                                </div>

                                                <div class="bg-slate-50 p-3 rounded border border-slate-200">
                                                    <div class="flex justify-between items-center mb-2">
                                                        <label class="input-label mb-0">Maschinen-Satz (‚Ç¨/h)</label>
                                                        <input type="number" x-model.number="job.machineHourly" step="0.1" class="w-20 input-field text-right font-bold h-8 py-1">
                                                    </div>
                                                    <details class="text-xs">
                                                        <summary class="cursor-pointer text-blue-600 hover:text-blue-800 font-medium select-none">Anschaffung berechnen &#9662;</summary>
                                                        <div class="grid grid-cols-2 gap-3 mt-2">
                                                            <div class="input-group"><label class="input-label">Preis (‚Ç¨)</label><input type="number" x-model.number="job.machinePurchase" @input="calculateMachineHourly(job)" class="input-field h-8 py-1"></div>
                                                            <div class="input-group"><label class="input-label">Dauer (h)</label><input type="number" x-model.number="job.machineLife" @input="calculateMachineHourly(job)" class="input-field h-8 py-1"></div>
                                                        </div>
                                                    </details>
                                                </div>

                                                <div class="grid grid-cols-3 gap-3">
                                                    <div class="input-group"><label class="input-label">Last (%)</label><input type="number" x-model.number="job.loadFactor" class="input-field text-xs"></div>
                                                    <div class="input-group"><label class="input-label">Fehler (%)</label><input type="number" x-model.number="job.failRate" class="input-field text-xs"></div>
                                                    <div class="input-group"><label class="input-label">Fix (‚Ç¨)</label><input type="number" x-model.number="job.fixedCost" class="input-field text-xs"></div>
                                                </div>

                                                <div class="grid grid-cols-2 gap-3 bg-emerald-50/50 p-3 rounded border border-emerald-100">
                                                    <div class="input-group"><label class="input-label text-emerald-700">Marge %</label><input type="number" x-model.number="job.marginPercent" class="input-field font-bold text-emerald-800 border-emerald-200"></div>
                                                    <div class="input-group"><label class="input-label text-emerald-700">Rabatt %</label><input type="number" x-model.number="job.discount" class="input-field font-bold text-red-600 border-emerald-200"></div>
                                                </div>

                                                <!-- CO2 Factor for this job -->
                                                <div class="input-group border-t pt-2 border-slate-100">
                                                    <label class="input-label text-green-600">Material CO‚ÇÇ-Faktor (kg/kg)</label>
                                                    <input type="number" x-model.number="job.co2Material" step="0.1" class="input-field h-8 py-1 text-xs">
                                                </div>
                                            </div>
                                        </details>
                                    </div>
                                </div>
                            </template>

                            <button @click="addPrintJob()" class="w-full py-3 bg-white border-2 border-dashed border-slate-300 text-slate-500 rounded-xl font-bold text-sm hover:border-blue-400 hover:text-blue-600 hover:bg-blue-50 transition-all flex items-center justify-center gap-2">
                                <i class="fa-solid fa-plus-circle"></i> Weiteren Druck berechnen
                            </button>
                        </div>
                    </section>

                    <!-- 4. ZUSATZ POSITIONEN -->
                    <section class="mb-10">
                        <h3 class="text-sm font-bold text-slate-700 uppercase tracking-wide flex items-center gap-2 mb-3 px-1">
                            <i class="fa-solid fa-list-check text-blue-500"></i> Manuelle Positionen
                        </h3>
                        <div class="space-y-3">
                            <template x-for="(item, index) in extraItems" :key="index">
                                <div class="flex items-start gap-3 bg-white p-3 rounded-lg border border-slate-200 shadow-sm">
                                    <div class="flex-1 space-y-2">
                                        <input type="text" x-model="item.desc" placeholder="Beschreibung (z.B. CAD-Design, Versand)" class="w-full text-sm font-medium border-b border-dotted border-slate-300 focus:border-blue-500 outline-none pb-1 bg-transparent placeholder-slate-400">
                                        <div class="flex gap-3">
                                            <div class="flex items-center gap-2 bg-slate-50 px-2 py-1 rounded border border-slate-200">
                                                <span class="text-[10px] font-bold text-slate-400 uppercase">Anz</span>
                                                <input type="number" x-model.number="item.qty" class="w-12 text-sm bg-transparent text-center outline-none font-bold text-slate-700">
                                            </div>
                                            <div class="flex items-center gap-2 bg-slate-50 px-2 py-1 rounded border border-slate-200 flex-1">
                                                <span class="text-[10px] font-bold text-slate-400 uppercase">Preis ‚Ç¨</span>
                                                <input type="number" x-model.number="item.price" step="0.1" class="w-full text-sm bg-transparent text-right outline-none font-mono text-slate-700">
                                            </div>
                                        </div>
                                    </div>
                                    <button @click="removeExtraItem(index)" class="text-slate-300 hover:text-red-500 transition-colors pt-1"><i class="fa-solid fa-circle-xmark text-lg"></i></button>
                                </div>
                            </template>
                            <button @click="addExtraItem()" class="w-full py-2 bg-slate-100 text-slate-500 rounded-lg text-xs font-bold uppercase tracking-wider hover:bg-slate-200 transition-colors">
                                + Position hinzuf√ºgen
                            </button>
                        </div>
                    </section>

                </div>

                <!-- Footer -->
                <div class="p-4 bg-white border-t border-slate-200 flex gap-3 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.05)] z-30">
                    <button @click="resetData()" class="px-4 py-2 text-slate-500 hover:bg-slate-100 rounded-lg font-medium text-sm transition-colors border border-slate-200">Reset</button>
                    <button @click="printDocument()" class="flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-md hover:shadow-lg transition-all flex items-center justify-center gap-2 transform active:scale-95">
                        <i class="fa-solid fa-print"></i> <span>Dokument erstellen</span>
                    </button>
                </div>
            </aside>

            <!-- RECHTS: VORSCHAU -->
            <main class="flex-1 bg-slate-800 preview-area overflow-y-auto p-12 flex flex-col items-center">

                <template x-for="(page, pageIndex) in getPages()" :key="pageIndex">
                    <div class="a4-page">

                        <!-- BEZAHLT STEMPEL (Nur Seite 1) -->
                        <template x-if="page.isFirst && settings.showPaid">
                            <div class="paid-stamp">BEZAHLT</div>
                        </template>

                        <!-- SEITE 1: HEADER -->
                        <template x-if="page.isFirst">
                            <div>
                                <div class="flex justify-between items-start border-b-2 border-gray-900 pb-6 mb-10">
                                    <div>
                                        <h1 class="text-4xl font-extrabold uppercase tracking-tight text-gray-900" x-html="vendor.company"></h1>
                                        <p class="text-xs text-gray-500 mt-1 font-medium tracking-wide uppercase" x-html="vendor.slogan"></p>
                                    </div>
                                    <div class="text-right text-[9px] text-gray-500 leading-relaxed font-medium">
                                        <p class="text-gray-900 font-bold uppercase" x-html="vendor.name"></p>
                                        <p x-html="vendor.street"></p>
                                        <p><span x-html="vendor.zip"></span> <span x-html="vendor.city"></span></p>
                                        <p class="text-blue-600 mt-1" x-html="vendor.email"></p>
                                    </div>
                                </div>

                                <div class="flex justify-between mb-12">
                                    <div class="w-[85mm]">
                                        <p class="text-[6pt] text-gray-400 underline mb-2 ml-1">
                                            <span x-html="vendor.company"></span> &bull; <span x-html="vendor.street"></span> &bull; <span x-html="vendor.zip"></span> <span x-html="vendor.city"></span>
                                        </p>
                                        <div class="text-[10pt] leading-normal p-2 rounded">
                                            <div class="font-bold mb-1" x-html="customer.name"></div>
                                            <div x-html="formatText(customer.address)"></div>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <h2 class="text-3xl font-bold text-gray-900 mb-4" x-text="docType === 'angebot' ? 'Angebot' : 'Rechnung'"></h2>
                                        <div class="inline-block text-sm text-left">
                                            <div class="grid grid-cols-[80px_1fr] gap-y-1">
                                                <span class="text-gray-500">Nummer:</span> <span class="font-mono font-bold text-gray-900 text-right" x-text="project.number"></span>
                                                <span class="text-gray-500">Datum:</span> <span class="font-mono text-gray-900 text-right" x-text="formatDate(project.date)"></span>
                                                <!-- FIX: Use display:contents to ensure elements are direct children of grid -->
                                                <div class="contents" x-show="customer.id">
                                                    <span class="text-gray-500">Kunden-Nr:</span> <span class="font-mono text-gray-900 text-right" x-text="customer.id"></span>
                                                </div>
                                                <!-- NEW: Order Number Display -->
                                                <div class="contents" x-show="customer.orderNumber">
                                                    <span class="text-gray-500">Bestell-Nr:</span> <span class="font-mono text-gray-900 text-right" x-text="customer.orderNumber"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-8">
                                    <h3 class="font-bold text-lg text-gray-900 mb-1" x-html="project.name"></h3>
                                    <p class="text-sm text-gray-600">Vielen Dank f√ºr Ihre Anfrage. Wir bieten Ihnen hiermit unverbindlich an:</p>
                                </div>
                            </div>
                        </template>

                        <!-- SEITE 2+: HEADER -->
                        <template x-if="!page.isFirst">
                            <div class="border-b-2 border-gray-100 pb-4 mb-8">
                                <div class="flex justify-between items-end mb-2">
                                    <div>
                                        <div class="text-xl font-bold text-gray-900" x-html="vendor.company"></div>
                                        <div class="text-xs text-gray-400 uppercase tracking-wide">Fortsetzung zu <span x-text="docType === 'angebot' ? 'Angebot' : 'Rechnung'"></span> <span x-text="project.number"></span></div>
                                    </div>
                                    <div class="text-right text-xs">
                                        <div class="font-bold text-gray-900" x-html="project.name"></div>
                                        <div class="text-gray-500" x-text="formatDate(project.date)"></div>
                                    </div>
                                </div>
                            </div>
                        </template>

                        <!-- TABELLE -->
                        <div class="flex-1">
                            <table class="w-full text-sm">
                                <thead>
                                    <tr class="border-b border-gray-800 text-gray-600 text-[10px] uppercase tracking-wider font-bold">
                                        <th class="text-left py-2 w-12">Pos.</th>
                                        <th class="text-left py-2">Beschreibung</th>
                                        <th class="text-right py-2 w-20">Menge</th>
                                        <th class="text-right py-2 w-24">Einzel</th>
                                        <th class="text-right py-2 w-28">Gesamt</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-gray-100">
                                    <template x-for="item in page.items" :key="item.pos">
                                        <tr>
                                            <td class="py-3 align-top font-mono text-xs text-gray-400 pt-4" x-text="item.pos"></td>
                                            <td class="py-3 align-top pt-4">
                                                <div class="font-bold text-gray-800" x-text="item.desc"></div>
                                                <div class="text-xs text-gray-500 mt-1 space-x-2" x-show="item.details && item.details.length">
                                                    <template x-for="detail in item.details">
                                                        <span class="inline-block bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100" x-text="detail"></span>
                                                    </template>
                                                </div>
                                            </td>
                                            <td class="py-3 align-top text-right pt-4 text-gray-700" x-text="item.qty"></td>
                                            <td class="py-3 align-top text-right font-mono text-gray-700 pt-4" x-text="formatMoney(item.price)"></td>
                                            <td class="py-3 align-top text-right font-mono font-bold text-gray-900 pt-4" x-text="formatMoney(item.total)"></td>
                                        </tr>
                                    </template>
                                </tbody>
                            </table>
                        </div>

                        <!-- FOOTER -->
                        <div class="mt-auto">
                            <template x-if="!page.isLast">
                                <div class="text-right text-xs text-gray-400 italic py-6 border-t border-gray-100 mt-4">
                                    Fortsetzung auf der n√§chsten Seite...
                                </div>
                            </template>

                            <template x-if="page.isLast">
                                <div class="border-t border-gray-900 mt-8 pt-6">
                                    <div class="flex justify-end">
                                        <div class="w-72">
                                            <div class="flex justify-between py-1 text-sm text-gray-600">
                                                <span>Nettobetrag:</span>
                                                <span class="font-mono" x-text="formatMoney(getSubtotal())"></span>
                                            </div>
                                            <template x-if="settings.taxEnabled">
                                                <div class="flex justify-between py-1 text-sm text-gray-600">
                                                    <span>Umsatzsteuer 19%:</span>
                                                    <span class="font-mono" x-text="formatMoney(getVat())"></span>
                                                </div>
                                            </template>
                                            <div class="flex justify-between py-3 border-t-2 border-gray-200 mt-2 text-xl font-bold text-gray-900 items-baseline">
                                                <span>Gesamtbetrag:</span>
                                                <span class="font-mono text-blue-700" x-text="formatMoney(getTotal())"></span>
                                            </div>

                                            <!-- CO2 FOOTER LINE -->
                                            <template x-if="settings.showCO2">
                                                <div class="flex justify-between py-2 text-xs text-green-700 font-medium border-t border-dashed border-gray-300 mt-1">
                                                    <span class="flex items-center gap-1"><i class="fa-solid fa-leaf"></i> CO‚ÇÇ-Fu√üabdruck dieses Auftrags:</span>
                                                    <span class="font-bold" x-text="getTotalCO2() + ' g'"></span>
                                                </div>
                                            </template>

                                            <div class="mt-4 text-[10px] text-gray-500 text-right leading-tight bg-gray-50 p-2 rounded">
                                                <template x-if="!settings.taxEnabled">
                                                    <div>Gem√§√ü ¬ß19 UStG wird keine Umsatzsteuer berechnet.<br>Rechnungsbetrag ist sofort f√§llig ohne Abzug.</div>
                                                </template>
                                                <template x-if="settings.taxEnabled">
                                                    <div>Leistungsdatum entspricht Rechnungsdatum.<br>Zahlbar innerhalb von 14 Tagen netto.</div>
                                                </template>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </template>

                            <div class="border-t border-gray-300 pt-4 mt-4 grid grid-cols-3 gap-8 text-[7pt] text-gray-500 uppercase tracking-wide">
                                <div>
                                    <strong class="text-gray-900 block mb-1" x-html="vendor.company"></strong>
                                    <span x-html="vendor.street"></span><br>
                                    <span x-html="vendor.zip"></span> <span x-html="vendor.city"></span>
                                </div>
                                <div class="text-center">
                                    <span class="block mb-1">Bankverbindung</span>
                                    <span x-html="vendor.bank"></span><br>
                                    IBAN: <span class="font-mono text-gray-700" x-html="vendor.iban"></span><br>
                                    BIC: <span class="font-mono" x-html="vendor.bic"></span>
                                </div>
                                <div class="text-right">
                                    <div class="mb-1" x-show="settings.taxEnabled">USt-IdNr: <span x-html="vendor.taxId"></span></div>
                                    <div class="font-bold text-gray-900">Seite <span x-text="page.number"></span> von <span x-text="page.totalPages"></span></div>
                                </div>
                            </div>
                        </div>

                    </div>
                </template>
            </main>
        </div>
      </div>
    </section>
  </main>
  <footer class="footer">
    <div class="container">
      <div class="footer__inner">
        <div class="footer__brand">¬© 2025 Warenschmiede ¬∑ Alle Rechte vorbehalten.</div>
        <nav class="footer__links" aria-label="Rechtliches & Kontakt">
          <a href="/impressum.html">Impressum</a>
          <a href="/datenschutz.html">Datenschutzerkl√§rung</a>
          <a href="/kontakt.html">Kontakt</a>
        </nav>
        <div class="footer__notes">
          <p><strong>Haftung / Nutzung:</strong> Alle Angaben ohne Gew√§hr ‚Äì Nutzung auf eigene Verantwortung.</p>
          <p><strong>Cookies:</strong> Diese Website verwendet keine Cookies oder Tracking.</p>
        </div>
      </div>
    </div>
  </footer>

  <script src="/assets/js/theme.js" defer></script>
  <script src="/assets/js/header.js" defer></script>
  <script src="/assets/js/whatsapp.js" defer></script>
</body>
</html>
